
={=============================================================================

cat /proc/net/fib_trie

meld /home/keitee/ip/SkyBluetoothRcu/app/src/ /home/keitee/ip/repo/SkyBluetoothRcu/app/src/

clang-format -style=Mozilla 

// titan usb 
[17392.317543] usb 1-5: cp210x converter now attached to ttyUSB0

sudo screen -S name -a -fn -l /dev/ttyUSB0 115200,cs8
sudo screen -S name -a -fn -l /dev/ttyUSB1 115200,cs8
sudo screen -S name -a -fn -l /dev/ttyUSB2 115200,cs8


={=============================================================================
falcon

grep KT /mnt/nds/dev_18/part_0/FSN_DATA/LOG

tail -f /mnt/nds/dev_18/part_0/FSN_DATA/LOG
ls -al /mnt/nds/dev_18/part_0/FSN_DATA/LOG
cp /mnt/nds/dev_18/part_0/FSN_DATA/LOG /flash0/
chmod 777 /flash0/LOG

rm /mnt/nds/dev_18/part_0/FSN_DATA/LOG

sudo cp -r /home/keitee/mw/ethan-as-source/xSubmoduleDarwinSDK/eu-q-falconv2-uk/SDK/flash0 /home/keitee/mw/exports/falconv2

ag "KT|FactoryContainer|Run Level changed|blercu|BleRcuDaemon|BLERCU|AS_RCU_Rcu|BTRemoteModel" LOG


={=============================================================================
titan

./compile_sdkv2.0.sh eu-q-titan-uk /home/keitee/mw/ethan-as-source
sudo cp -r /home/keitee/mw/ethan-as-source/xSubmoduleDarwinSDK/eu-q-titan-uk/SDK/flash0 /home/keitee/mw/exports/titan

// new location?
tail -f /mnt/nds/dev_14/part_0/LOG
ls /mnt/nds/dev_14/part_0/LOG*
rm /mnt/nds/dev_14/part_0/LOG*

grep -an "KT" /mnt/nds/dev_13/part_0/LOG
tail -f /mnt/nds/dev_13/part_0/LOG | grep "KT"

cp /mnt/nds/dev_14/part_0/LOG /flash0
chmod 777 /flash0/LOG

// core
cp /mnt/nds/dev_13/part_0/*.COR /flash0
chmod 777 /flash0/*.COR
/home/keitee/mw/ethan-as-source/xSubmoduleDarwinSDK/eu-q-titan-uk/SDK_Q000.022.79.00_bskybgen2_SKY7278/FUSIONOS_BSKYB_2/BLD_SKYOB_SKY7278_BCM7278_LNUX_01/platform_cfg/linux/compiler/brcm_gcc_arm_x86_linux_01//bin/arm-linux-gdb
thread apply all bt full


cp /mnt/nds/dev_14/part_0/FSN_DATA/LOG /flash0
chmod 777 /flash0/LOG

cp /mnt/nds/dev_13/part_0/LOG /flash0
chmod 777 /flash0/LOG


grep -an "BleRcuDae" /mnt/nds/dev_14/part_0/FSN_DATA/LOG
grep -an "KT|BLERCU" /mnt/nds/dev_14/part_0/FSN_DATA/LOG


-sh-3.2# bluetoothctl
[NEW] Controller FF:FF:FF:FF:FF:FF Sky Q 1TB Box4027 [default]
[NEW] Device 88:9F:6F:88:6A:7B Galaxy J6


-sh-3.2# BleRcuConsole
[blercu]# devices
Device 1C:A2:B1:BA:C0:AD U228ruwido Sky Remote

[blercu]# scan 30000
[blercu]# [CHG] State: Searching
[CHG] Pairing: yes
[CHG] State: Pairing
[CHG] Pairing: no
[CHG] State: Failed


[blercu]# [CHG] Pairing: yes
[CHG] State: Pairing
[NEW] Device D4:B8:FF:12:E1:A8
[CHG] Pairing: no
[CHG] State: Complete


={=============================================================================
amidala

tail -f /mnt/nds/dev_17/part_0/FSN_DATA/LOG
rm /mnt/nds/dev_17/part_0/FSN_DATA/LOG*
ls /mnt/nds/dev_17/part_0/FSN_DATA/LOG*

// 
scp /mnt/nds/dev_17/part_0/FSN_DATA/LOG keitee@192.168.0.101:/home/keitee/mw/exports/amidala/flash0/

// hangs when cp to nfs so use scp
// cp /mnt/nds/dev_17/part_0/FSN_DATA/LOG /flash0/amidala
chmod 777 /flash0/amidala/LOG


={=============================================================================
ip100

curl -v -X POST http://192.168.0.103:9005/as/peripherals/btremotes/action/startsearching?timeout=30

// bluez cli tool
telnet 192.168.0.100 8123

// check-version>
getprop | grep version
[ro.build.version.incremental]: [QIPQ00.000.52.01D]

adb connect 192.168.0.105:5555 
adb connect 192.168.0.100:5555

adb root 
adb connect 192.168.0.103:5555

// capture all
adb logcat | tee log.log
adb logcat --pid=2208 | tee log.log


scan on
pair D4:B8:FF:12:E1:A8
1+3
scan off

remove D4:B8:FF:12:E1:A8
info D4:B8:FF:12:E1:A8

// debug wed scan (android) once debug version runs via android studio
http://192.168.0.102:8280/index.html

// bluez cli
telnet 192.168.0.103 8123

// bluez web SKY BLUEZ DEBUG CONSOLE
http://192.168.0.103:8180/index.html


={=============================================================================
rdk

bitbake -c clean comcast-mediaclient-vbn-image
bitbake -c clean devicesettings

mount /dev/sda1 /mnt/usb/

// have to run this when reboots

/dev/mmcblk0p1         6008276    179936   5506748   3% /tmp/data

dropbear -p :10022 -P /var/run/dropbear2.pid -r /tmp/data/sky-ssh-hostkey -B

iptables -I INPUT 1 -p tcp --dport 10022 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT
iptables -I OUTPUT 1 -p tcp --sport 10022 -m conntrack --ctstate ESTABLISHED -j ACCEPT

// enabling AS port
iptables -I INPUT 1 -p tcp --match multiport --dport 9001:9007 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT
iptables -I OUTPUT 1 -p tcp --match multiport --sport 9001:9007 -m conntrack --ctstate ESTABLISHED -j ACCEPT

curl -v -X GET http://192.168.0.100:9005/as/display
curl -v -X POST http://192.168.0.100:9005/as/display/action/checkresolution?resolution=720p
curl -v -X POST http://192.168.0.100:9005/as/display/action/checkresolution?resolution=1080p

http://192.168.0.100:9005/as/display/action/checkresolution?resolution=720p

/as/display/action/checkresolution?resolution=720p

ssh -p 10022 root@192.168.0.100

# from host to box
scp -P 10022 BleRcuDaemon root@192.168.0.103:/tmp/data
scp -P 10022 /home/keitee/git/kb/bin/lsdbus.sh root@192.168.0.100:/tmp/data

./work/arrisxi6_morty-rdk-linux-gnueabi/comcast-mediaclient-vbn-image/1.0-r0/rootfs-dbg/usr/bin/.debug/dsMgrMain
scp -P 10022 dsMgrMain root@192.168.0.100:/tmp/data

// root@arrisxi6-morty:/# find . -name libds.so
// ./usr/lib/libds.so
// /media/keitee/ssd2/direct_build/build-arrisxi6-morty/tmp/work/arrisxi6_morty-rdk-linux-gnueabi/comcast-mediaclient-vbn-image/1.0-r0/rootfs-dbg/usr/lib/.debug
scp -P 10022 libds.so root@192.168.0.100:/tmp/data
mount-copybind /tmp/data/libds.so /usr/lib/libds.so

# from box to host
scp -P 10022 root@192.168.0.100:/tmp/data/d.cap .

# from box to host. uses /tmp since it's read-only fs

cd /tmp
journalctl > out.log
scp -P 10022 root@192.168.0.100:/tmp/data/out.log .

systemctl stop sky-asmock.service
killall ASSystemService
scp -P 10022 ASSystemService root@192.168.0.100:/tmp/data
/tmp/data/ASSystemService &
systemctl start sky-asmock.service



ls -al /usr/bin/nxserver
-rwxr-xr-x    1 root     root        295916 Nov 19 20:59 /usr/bin/nxserver

scp -P 10022 nxserver root@192.168.0.100:/tmp/data

ls -al /tmp/data/nxserver
-rwxr-xr-x    1 root     root       1155196 Nov 25 11:20 /tmp/data/nxserver


systemctl stop sky-appsservice.service
systemctl stop sky-asnetwork.service

systemctl status nxserver
systemctl stop nxserver

mount-copybind /tmp/data/nxserver /usr/bin/nxserver

ls -al /usr/bin/nxserver
systemctl start nxserver
journalctl –u nxserver --since today

systemctl start sky-asnetwork.service
systemctl start sky-appsservice.service

umount /usr/bin/nxserver
ls -al /usr/bin/nxserver

mount-copybind -d /tmp/data/nxserver

  sky-asmock.service                                                                                                loaded active running   Sky AS Mock Service daemon
    After=sky-bluetoothrcu.service

  sky-asproxy.service
    After=dbus.service

  sky-asnetwork.service                                                                                             loaded active running   Sky AS Network Service
After=dbus.service network.target iarmbusd.service dsmgr.service sky-asproxy.service

  sky-asplayer.service                                                                                              loaded active running   Sky AS Player Service
After=sky-assystem.service dbus.service



● sky-fixup.service                                                                                                 loaded failed failed    Sky FixUp
Before=sky-dobby.service sky-asproxy.service sky-asplayer.service

  sky-appsservice.service
[Unit]
Description=Sky AS Apps Service
Wants=sky-asproxy.service

Requires=sky-dobby.service
After=sky-dobby.service

Requires=nxserver.service
After=nxserver.service

Requires=storagemgrmain.service
After=storagemgrmain.service

After=sky-asmock.service

