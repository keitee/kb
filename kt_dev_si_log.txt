*kt_dev_si*                                                                tw=100

kt.dev.si

/^[#=]{
Use #{ for a group and ={ for a item


={============================================================================
|kt_si_log_0001| SI-10793: OOM PCAT_VIEW_CLNT_POOL

Script: OD.30(R12_89x) - Download All (Phase 1) (11.30)
Baseline(s):
R015.084.43.00

pcat_db.cfg:22:CLIENT_POOL_NAME="PCAT_VIEW_CLNT_POOL"

http://theyard.cisco.com/si_logs/translation/darwin_0019fbf2d3c9_e5f6f859c892b462a96b21c1cef1dae1/
P1	70	1533777	2016:09:05 03:18:16	Out of memory in " "PCAT_VIEW_CLNT_POOL" pool.

PROF shows the OOM as well.

!ERROR  -MEMMAN       		< p:0x0000020e P:APP t:0x0117a520 T:PCAT_PROXY_THREAD M:mem_blockpool.c F:MHWMemCheckBank L:310 > CHECK_BANK Size:40 FreeSize:12 Bank:1 PoolMAX:409588 
!WARN   -MEMMAN       		< p:0x0000020e P:APP t:0x0117a520 T:PCAT_PROXY_THREAD M:mem_static.c F:MHWMemAllocStatic L:75 > Cannot allocate 40 bytes in pool " "PCAT_VIEW_CLNT_POOL"  
!WARN   -MEMMAN       		< p:0x0000020e P:APP t:0x0117a520 T:PCAT_PROXY_THREAD M:mem_static.c F:MHWMemAllocStatic L:78 > Biggest block is 12 bytes 
!ERROR  -PCATC        		< p:0x0000020e P:APP t:0x0117a520 T:PCAT_PROXY_THREAD M:pcat_misc.c F:PCAT_AllocStaticP_DBG L:411 > not enough memory: size=19, called from M=pcat_serialize_structs.c, F=PCAT_SERIALIZE_deserialize_PropValue, L=215 
!ERROR  -PCATC        		< p:0x0000020e P:APP t:0x0117a520 T:PCAT_PROXY_THREAD M:pcat_serialize_structs.c F:PCAT_SERIALIZE_deserialize_PropValue L:275 > Deserializaton failed 
!ERROR  -PCATC        		< p:0x0000020e P:APP t:0x0117a520 T:PCAT_PROXY_THREAD M:pcat_serialize_structs.c F:PCAT_SERIALIZE_deserialize_P_PropValue L:383 > Deserializaton failed 
!ERROR  -PCATC        		< p:0x0000020e P:APP t:0x0117a520 T:PCAT_PROXY_THREAD M:pcat_serialize_structs.c F:PCAT_SERIALIZE_Deserialize_DBVIEW_ValueListStruct L:771 > Deserializaton failed 
!ERROR  -PCATC        		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:pcat_server_proxy.c F:PCAT_VIEW_SRV_SelectCollapsedList L:2434 > Finished with error: Failure (0x5c21001) 
!ERROR  -PCATC        		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:pcat_view_clnt.c F:PCAT_VIEW_SelectCollapsedList L:1097 > PCAT_VIEW_SRV_SelectCollapsedList stat=0x5c21001, view=0x7000014 
!ERROR  -PCATC        		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:pcat_view_clnt.c F:PCAT_VIEW_SelectCollapsedList L:1121 > Finished with error: Failure (0x5c21001) 
!ERROR  -PLANNER      		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:planner_list_element.c F:PLANNER_ListElement_PRV_GetValueListCollapsed L:994 > Call to PCAT_VIEW_SelectCollapsedList failed 
!ERROR  -PLANNER_ITERATOR		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:planner_iterator.c F:PLANNER_StandardIterator_GetVListFromCache L:3449 > Failed to obtain IDs 
!ERROR  -PLANNER_ITERATOR		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:planner_iterator.c F:PLANNER_StandardIterator_RetrieveVListToCache L:4475 > Failed to get vlist 
!ERROR  -PLANNER_ITERATOR		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:planner_iterator.c F:PLANNER_StandardIterator_InitCache L:4654 > Failed to get or retrieve vlist at index -1 
!ERROR  -PLANNER_ITERATOR		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:planner_iterator.c F:PLANNER_StandardIterator_RefreshIfNecessary L:1025 > Failed to initialise the new iterator cache 
!ERROR  -PLANNER_ITERATOR		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:planner_iterator.c F:PLANNER_StandardIteratorImpl_GetNextIndex L:1322 > Failed to refresh iterator 
!ERROR  -J_PLANNER    		< p:0x0000020e P:APP t:0x2bfeb520 T:no name M:modules/jpa-impl/src/c/src/natPlannerIteratorImp 
  F:Java_com_nds_fusion_plannerimpl_PlannerIteratorImpl_natPlannerIt L:77 > PLANNER_API_Iterator_GetNextIndex failed: 0x6422001

JNIEXPORT jint JNICALL Java_com_nds_fusion_plannerimpl_PlannerIteratorImpl_natPlannerIteratorNextIndex
  (JNIEnv *env, jclass jClass, jint param1)
{
    uint32_t jReturnVal = 0;

    PLANNER_API_Iterator_Handle jNativeHandle = (PLANNER_API_Iterator_Handle)param1;
    SYSTEM_STATUS status                      = PLANNER_API_STATUS_NOT_OK;

    JPA_DIAG_DECLARE_FUNCTION;
    DIAG_LOG_FN_ENTRY(g_planner_adaptor_api_diag_segment_id);

    status = PLANNER_API_Iterator_GetNextIndex(jNativeHandle, (int32_t*)&jReturnVal);
    if (!SYSTEM_STATUS_IS_OK(status))
    {
        DIAG_LOG_ERROR(g_planner_adaptor_api_diag_segment_id, ("PLANNER_API_Iterator_GetNextIndex failed: 0x%x", status));
    }

    (void)PLANNER_JAVA_ParseReturn(env, status);

    DIAG_LOG_FN_EXIT(g_planner_adaptor_api_diag_segment_id, status);
    return (jint)jReturnVal;
}


#ifdef PLANNER_ITERATORS_SUPPORTED
/**
 * @brief Standard iterator get `next index` implementation
 *
 * @param[in] iterator Iterator structure
 * @param[out] param_index The next object index to the iterator
 * @retval #PLANNER_API_STATUS_OK on success
 * @retval #PLANNER_API_STATUS_NOT_OK on failure
 */
static SYSTEM_STATUS PLANNER_StandardIteratorImpl_GetNextIndex(`PLANNER_ITERATOR_T` *iterator, int32_t *param_index)
{
    /* Refresh the iterator if there has been a change to the view */
    if (PLANNER_API_STATUS_OK != PLANNER_StandardIterator_RefreshIfNecessary(iterator->handle, false))
    {
        DIAG_LOG_ERROR( g_planner_iterator_diag_segment_id, ("Failed to refresh iterator"));
    }

    DIAG_LOG_FN_EXIT( g_planner_iterator_diag_segment_id, l_status);
    return l_status;
}


http://theyard.cisco.com/si_logs/translation/darwin_0019fb4307b8_2d26e1f7329ac57b5d6a77a247618025/
NO OOM.


http://theyard.cisco.com/si_logs/translation/darwin_0019fbd18d2c_d853e6a9b3763150ddf24efc1cf86c5d/
User-pressed 444 - indication of user-trial fault.
P1	70	1976298	2016:09:05 06:10:20	Out of memory in " "PCAT_VIEW_CLNT_POOL" pool.

http://theyard.cisco.com/si_logs/translation/darwin_0019fbb71c5f_01843626e5c29624c0c7171725b26b36/
User-pressed 444 - indication of user-trial fault.
P1	70	1256981	2016:09:05 01:26:20	Out of memory in " "PCAT_VIEW_CLNT_POOL" pool.

// From STR-8794
http://theyard.cisco.com/si_logs/translation/darwin_0019fbe86f8d_87b620f86f763c69753a8beac697e9b3/
http://theyard.cisco.com/si_logs/translation/darwin_0019fb4307b8_98e2669064e9274c4317f3693da038f0/
http://theyard.cisco.com/si_logs/translation/darwin_0019fbd18d2c_261593442ef447a9ebb902d7c91551fd/
http://theyard.cisco.com/si_logs/translation/darwin_0019fbb71c5f_3c245065794b9d564d1583713a2ec167/
User-pressed 444 - indication of user-trial fault.


<regression>

drx890  R015.084.42.00U 2016-08-31 10:29:00     <p1>PCAT Client Memory Leak (OPERATOR-INDUCED CRASH) (built by hudson)</p1>     http://theyard.cisco.com/si_logs/translation/darwin_0019fbd5a0bc_1a4d2bb1f22c9c780d66815c006f4a5f/index.html
drx890  R015.084.37.00U 2016-08-23 18:43:00     <p1>PCAT Client Memory Leak (built by hudson)</p1>      http://theyard.cisco.com/si_logs/translation/darwin_0019fb1a2bbc_c6b67f14cc7143d382b5cb5051138c05/index.html
drx890  R015.084.34.00U 2016-08-18 01:58:00     <p1>PCAT Client Memory Leak (built by hudson)</p1>      http://theyard.cisco.com/si_logs/translation/darwin_0019fb1a2bbc_be413e1111c2f7fccd2d0032ebe12333/index.html
drx890  R015.084.26.00U 2016-07-28 12:14:00     <p1>PCAT Client Memory Leak (built by hudson)</p1>      http://theyard.cisco.com/si_logs/translation/darwin_0019fb603c05_9332eba249a3dfc7d7c8a11ea56ae3d8/index.html
drx890  R015.084.21.00U 2016-07-18 12:44:00     <p1>PCAT Client Memory Leak resulting in MW_Process crash in #0 0x2ab0f2d4 in poll (fds=<optimized out>, nfds=1, timeout=-1) at libc/sysdeps/linux/common/poll.c:44 (built by hudson)</p1>     http://theyard.cisco.com/si_logs/translation/darwin_0019fb0fbe52_afdb05d4e149f14dfca055e3a86ba52e/index.html


BSKYB_INTEGRATION_BLD_84.21.00_BSKYB_HR015_Int Baseline Listing
--------------------------------------------------------------------------------
0a35a11 Pull in new Picasso (trunk.97959)
9455af1 Revert "US11402 : MID-6826 : R12: Enable content-type protection (again) to work around bad router behaviour when losing DSL connection"


={============================================================================
|kt_si_log_0001| SI-10757 blue screen and IC2 errors

http://theyard.cisco.com/si_logs/translation/darwin_0019fb5b8297_88d918170f86ebccbc39297608c7c07d/

logparser result looks valid:

P2	10	1656285	2016:08:22 04:50:42	SOMETHING TIMEDOUT message from EPG (NSS/TF code 30): PLAYER timeout on media selection. Check VRM/MCM/MDM.
P2	247	2869045	2016:08:22 09:42:16	Indicates some sort of lockup in the system.

Logs:

See lots of this
DRV: ^[2016:08:22 04:54:59]0946738246.285778 KERN_WARNING !!!Error BREG_I2C_Read(hHDMI->hI2cRegHandle, 0x3A, 0x41, (uint8_t *) &Status, 2)(0x110001) at //home/masterci/workspace/AMS_DRX890_R11/cdisource/trunk/build/ams-drx890/source//magnum/magnum7335/portinginterface/hdm/7335/bhdm_hdcp.c:2162

Then see
P2	10	1656285	2016:08:22 04:50:42	SOMETHING TIMEDOUT message from EPG (NSS/TF code 30): PLAYER timeout on media selection. Check VRM/MCM/MDM.

Then starts to see
== 1666531:NDS: ^[2016:08:22 04:54:59]0946738246.822189 !ERROR  -MSM_MDI      		< p:0x000001df P:MW t:0x018ba520 T:raspHigh M:meta_rsp.c F:(commonRaspEventValidation) L:2528 > rasp con=0x7, xCon = 0x16, mdi con = 0x23: Event validation failed: isLastEvent=XFALSE, isHeaderEvent=XTRUE 

Continue to see
DRV: ^[2016:08:22 04:54:59]0946738246.285778 KERN_WARNING !!!Error BREG_I2C_Read(hHDMI->hI2cRegHandle, 0x3A, 0x41, (uint8_t *) &Status, 2)(0x110001) at //home/masterci/workspace/AMS_DRX890_R11/cdisource/trunk/build/ams-drx890/source//magnum/magnum7335/portinginterface/hdm/7335/bhdm_hdcp.c:2162

P2	247	2869045	2016:08:22 09:42:16	Indicates some sort of lockup in the system.

Looks MW is barely work

Looks like new file in R10?
$ git diff --stat BSKYB_HR010_70.91_Int/BSKYB_INTEGRATION_BLD_70.91.05_BSKYB_HR010_70.91_Int BSKYB_HR015_Int/BSKYB_INTEGRATION_BLD_84.39.00_BSKYB_HR015_Int -- CMS_MEDIA_SERVICES/BEM/src/server/bem_internal_event.c


<epg-failed> this is due to race in EPG
LOGlastrun_realtime_D_01
12616:NDS: ^[2016:07:30 05:55:06]0946688832.094300 !MIL    -EPG_INIT                    < p:0x00000209 P:APP t:0x2df6f520 T:no name M:Operator$CountdownCompletionListener F:dumpCompletionList L:209 > T:IM#0:Failed ACTIVE:

LOGlastrun_realtime_D_02
3596:NDS: ^[2016:07:30 06:01:58]0946685061.635624 !MIL    -EPG_INIT                     < p:0x000001fe P:APP t:0x2df6f520 T:no name M:Operator$CountdownCompletionListener F:dumpCompletionList L:209 > T:IM#0:Failed ACTIVE:


{to-check-time-intervals}

<from-D_02_bem_out.nds>

3571:NDS: ^[2016:07:30 06:01:42]0946685045.717415 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3573:NDS: ^[2016:07:30 06:01:43]0946685046.880410 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3575:NDS: ^[2016:07:30 06:01:45]0946685048.043415 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3576:NDS: ^[2016:07:30 06:01:46]0946685049.207411 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3577:NDS: ^[2016:07:30 06:01:47]0946685050.370413 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3579:NDS: ^[2016:07:30 06:01:48]0946685051.748408 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3581:NDS: ^[2016:07:30 06:01:49]0946685052.915803 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3584:NDS: ^[2016:07:30 06:01:51]0946685054.079402 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3585:NDS: ^[2016:07:30 06:01:52]0946685055.242414 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3586:NDS: ^[2016:07:30 06:01:53]0946685056.405413 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3588:NDS: ^[2016:07:30 06:01:54]0946685057.568409 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3589:NDS: ^[2016:07:30 06:01:55]0946685058.731422 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3590:NDS: ^[2016:07:30 06:01:56]0946685059.894430 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3591:NDS: ^[2016:07:30 06:01:58]0946685061.058411 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3597:NDS: ^[2016:07:30 06:01:59]0946685062.221412 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3598:NDS: ^[2016:07:30 06:02:00]0946685063.384465 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
3599:NDS: ^[2016:07:30 06:02:01]0946685064.548481 !WARN   -BEM          		< p:0x000001fc P:MW t:0x0177d520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 


https://www.stb.bskyb.com/jira/browse/SI-10757
from Log URL: darwin_0019fb5b8297_88d918170f86ebccbc39297608c7c07d.tgz

11527:DRV: ^[2016:08:21 14:17:54]0946685621.354778 KERN_WARNING !!!Error BREG_I2C_Read(hHDMI->hI2cRegHandle, 0x3A, 0x41, (uint8_t *) &Status, 2)(0x110001) at //home/masterci/workspace/AMS_DRX890_R11/cdisourc
e/trunk/build/ams-drx890/source//magnum/magnum7335/portinginterface/hdm/7335/bhdm_hdcp.c:2162

1655077:NDS: ^[2016:08:22 04:50:22]0946737969.397703 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655078:NDS: ^[2016:08:22 04:50:23]0946737970.295885 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655130:NDS: ^[2016:08:22 04:50:24]0946737971.304141 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655150:NDS: ^[2016:08:22 04:50:25]0946737972.299165 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655175:NDS: ^[2016:08:22 04:50:26]0946737973.300981 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655594:NDS: ^[2016:08:22 04:50:27]0946737974.439449 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655658:NDS: ^[2016:08:22 04:50:28]0946737975.340800 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655711:NDS: ^[2016:08:22 04:50:29]0946737976.401124 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655713:NDS: ^[2016:08:22 04:50:30]0946737977.366988 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655738:NDS: ^[2016:08:22 04:50:31]0946737978.368738 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655800:NDS: ^[2016:08:22 04:50:32]0946737979.419742 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655861:NDS: ^[2016:08:22 04:50:33]0946737980.395445 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655906:NDS: ^[2016:08:22 04:50:34]0946737981.476308 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655962:NDS: ^[2016:08:22 04:50:35]0946737982.380462 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1655993:NDS: ^[2016:08:22 04:50:36]0946737983.388227 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1656009:NDS: ^[2016:08:22 04:50:37]0946737984.387080 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1656207:NDS: ^[2016:08:22 04:50:38]0946737985.494871 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1656209:NDS: ^[2016:08:22 04:50:39]0946737986.391878 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1656239:NDS: ^[2016:08:22 04:50:40]0946737987.390181 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 
1656254:NDS: ^[2016:08:22 04:50:41]0946737988.390748 !WARN   -BEM          		< p:0x000001df P:MW t:0x0177e520 T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:2419 > HDMI_HDCP_GET_BSTATUS failed, errno 145 


<race-fix-from-epg>
https://www.stb.bskyb.com/jira/browse/SI-10757
From https://www.stb.bskyb.com/jira/browse/STR-8752
http://theyard.cisco.com/si_logs/translation/darwin_0019fb5b863a_6acd6c055ce48e6e607d99d122f711ca/
313695:NDS: ^[2016:08:26 06:45:39]0946742048.836851 !MIL    -JAE          		< p:0x0000020e P:APP t:0x2bfd6520 T:no name M:modules/jvm-glue/src/c/src/ceej_bsp.c F:ooBSP_printf L:1382 > [CEE-J Desktop EventDispatcher] fGCFreeSpaceDivisor = 3, fHeapSize = 20447232, fHeapUsed = 18130396, fGCRootSize = 3783620
396263:DRV: ^[2016:08:26 10:13:17]0946754506.778038 KERN_WARNING !!!Error BREG_I2C_Read(hHDMI->hI2cRegHandle, 0x3A, 0x41, (uint8_t *) &Status, 2)(0x110001) at //home/masterci/workspace/AMS_DRX890_R11/cdisource/trunk/build/ams-drx890/source//magnum/magnum7335/portinginterface/hdm/7335/bhdm_hdcp.c:2162
no message from CEE and EPG after this line.

APP seems to be live since then.
396423:NDS: ^[2016:08:26 10:13:23]0946754512.549995 !WARN   -FDM_FS       		< p:0x0000020e P:APP t:0x01337520 T:FDM_FS_EventDispatcher M:fdm_fs_fifo_handler.c F:FDM_FS_HANDLER_MessageHandler L:453 > Message received. carousel_type=1 command_id=1 Callback=0x0 


<when-tried-simulated-driver>
// normal before simulation on
NDS: ^0946740360.068276 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_server.c F:BEM_Util_Ioctl L:01911 > BEM IOCTL f=bem_internal_event.c l=1668 rv=0 fd=297 req=HDMI_GET_EVENTS                             
NDS: ^0946740360.068404 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdmiAndStatus L:01672 > HDMI events 0x0
NDS: ^0946740360.068514 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdmiAndStatus L:01686 > calling HDMI_GET_CONNECTION_STATUS
NDS: ^0946740360.068688 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_server.c F:BEM_Util_Ioctl L:01911 > BEM IOCTL f=bem_internal_event.c l=1688 rv=0 fd=297 req=HDMI_GET_CONNECTION_STATUS                  
NDS: ^0946740360.068811 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdmiAndStatus L:01694 > display attached:1 powered:1
NDS: ^0946740360.068928 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_device_configure.c F:BEM_DevConfig_UpdateHdmiState L:02012 > HDMI state unchanged
NDS: ^0946740360.069107 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_eedid.c F:BEM_EEDID_AcquireEdid L:00679 > EEDID hash not required
NDS: ^0946740360.085148 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_server.c F:BEM_Util_Ioctl L:01911 > BEM IOCTL f=bem_eedid.c l=702 rv=0 fd=297 req=HDMI_GET_EEDID_BLOCK_EX                     
NDS: ^0946740360.085304 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_eedid.c F:BEM_EEDID_AcquireEdid L:00733 > Got EEDID Block 0

// simulated and do  this pattern
NDS: ^0946740361.068910 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_server.c F:BEM_Util_Ioctl L:01911 > BEM IOCTL f=bem_internal_event.c l=1668 rv=0 fd=297 req=HDMI_GET_EVENTS                             
NDS: ^0946740361.069050 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdmiAndStatus L:01672 > HDMI events 0x0
NDS: ^0946740361.069162 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdmiAndStatus L:01686 > calling HDMI_GET_CONNECTION_STATUS
NDS: ^0946740361.069335 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_server.c F:BEM_Util_Ioctl L:01911 > BEM IOCTL f=bem_internal_event.c l=1688 rv=0 fd=297 req=HDMI_GET_CONNECTION_STATUS                  
NDS: ^0946740361.069460 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdmiAndStatus L:01694 > display attached:1 powered:1

NDS: ^0946740361.540096 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_server.c F:BEM_Util_Ioctl L:01911 > BEM IOCTL f=bem_eedid.c l=702 rv=-1 fd=297 req=HDMI_GET_EEDID_BLOCK_EX                     
NDS: ^0946740361.540272 !WARN  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_eedid.c F:BEM_EEDID_AcquireEdid L:00715 > EEDID Block 0 failed - IOCTL rv -1

NDS: ^0946740362.014966 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_server.c F:BEM_Util_Ioctl L:01911 > BEM IOCTL f=bem_internal_event.c l=1875 rv=-1 fd=297 req=HDMI_HDCP_GET_BCAPS                         
NDS: ^0946740362.015170 !WARN  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdmiAndStatus L:01895 > ioctl HDMI_HDCP_GET_BCAPS failed

// this happens on timer
NDS: ^0946740364.517876 !INFO  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_server.c F:BEM_Util_Ioctl L:01911 > BEM IOCTL f=bem_internal_event.c l=2411 rv=-1 fd=297 req=HDMI_HDCP_GET_BSTATUS                       
NDS: ^0946740364.518048 !WARN  -BEM          < T:BEM_INTERNAL_EVENT_THREAD M:bem_internal_event.c F:BEM_InternalEvent_CheckHdcpStatus L:02419 > HDMI_HDCP_GET_BSTATUS failed, errno 145


<log-parser>
567	2	I2C driver error may cause a blue screen @SI-10719	Error BREG_I2C_Read	None	I2C driver error may cause a blue screen @SI-10719	None

567	2	I2C driver error may cause a blue screen @SI-10757	Error BREG_I2C_Read	None	I2C driver error may cause a blue screen @SI-10719	None i2c_errors.py


// ={============================================================================
// |kt_si_log_0001| SI-10711

// carmel shows that it starts from 
// http://theyard.cisco.com/camel/camel/stackhash/4e798d0f28bf0f0ceda40d52b0dc8d8b536d0bc0/

// July 19, 2016, 10:39 a.m. 	R015 	R015.084.21.00U

// release notes

// BSKYB_INTEGRATION_BLD_84.21.00_BSKYB_HR015_Int Baseline Listing
// --------------------------------------------------------------------------------
// List of Git Commits
// --------------------------------------------------------------------------------
// 0a35a11 Pull in new Picasso (trunk.97959)
// 9455af1 Revert "US11402 : MID-6826 : R12: Enable content-type protection (again) to work around bad router behaviour when losing DSL connection"

// SIGNAL 11.

// <source>
// /* list node */
// typedef struct VRM_LIST_NODE_ {
// 	void * data;							/* data of node				*/
// 	struct VRM_LIST_NODE_ *pNext;			/* pointer to next node		*/
// 	struct VRM_LIST_NODE_ *pPrev;			/* pointer to prev node		*/
// } VRM_LIST_NODE;


// /* list data */
// typedef struct LIST_ {
// 	VRM_LIST_NODE *pHead;					/* pointer to list head node */
// 	VRM_LIST_NODE *pTail;					/* pointer to list tail node */
// 	MEMMAN_API_Allocator *pNodeAllocator;	/* MEMMAN allocator for list nodes */
// 	MEMMAN_API_Allocator *pDataAllocator;	/* MEMMAN allocator for nodes data */
// 	uint32_t		data_size;				/* sizeof data element in node */
// 	uint32_t	nodesCount;				/* number of nodes in list	*/
// #ifdef VRM_DEBUG
// 	char		name[MAX_LIST_NAME];	/* list name, for debug only*/
// #endif
// } VRM_LIST;


// typedef struct PLE_SESSION_{
// 	VRM_PLE_HANDLE					hPle;						/* vrm ple session handle			*/
// 	VRM_LIST*						playlist;					/* playlist */
//    ...
// } PLE_SESSION;

// // case for not live
// (pSession->session_type != E_ASM_TYPES_SESSION_TYPE_LIVE)

// // Description: get first active asset in list.
// // but list.pHead is null?
// pNodeTrailing  = assetsList_getFirstAsset(pSession->playlist,&pTrailingAssetInfo);
// // but list.pTail is null?
// pNodeLeading = assetsList_getLastAsset(pSession->playlist,&pLeadingAssetInfo);


={============================================================================
|kt_si_log_0001| SI-10728 - APP crash

App crash from SI-10728 fix.
Delivered in BSKYB_INTEGRATION_BLD_84.38.00_BSKYB_HR015_Int

https://www.stb.bskyb.com/jira/browse/CTT-14807

Details:
Post-Testing: Latched up in BBC interactive loading icon displayed.
Time of Failure: 2016-08-17 06:00
Parser Output: (P1): APP_Process crash in #0 0x00916cf4 in stacktrace_unwind (f=0x1722598) at mbuster_pinit.c:2084 (built by hudson)
Log URL: darwin_0019fbf2a5ef_50117dea05ed778a9042329c5a170db3.tgz

http://theyard.cisco.com/si_logs/translation/darwin_0019fbf2a5ef_50117dea05ed778a9042329c5a170db3/stack_514.txt

[New LWP 514]
Core was generated by `/NDS/bin/APP_Process APP_Process'.
Program terminated with signal 11, Segmentation fault.
#0  0x00916cf4 in stacktrace_unwind (f=0x1722598) at mbuster_pinit.c:2084
#0  0x00916cf4 in stacktrace_unwind (f=0x1722598) at mbuster_pinit.c:2084
        i = 21534
        info = <optimized out>
#1  0x00917620 in alloc_list_add (pool=0xffb7a8, addr=22227948, size=104, type=1) at mbuster_pinit.c:1248
        f = {size = 28070, fp = 0x1722a00, pc = 0xe1fff8, func = 0xce7440, caller = 0xe1fff8}
        checksum = <optimized out>
        i = 8
        idx = <optimized out>
        bt_idx = <optimized out>
#2  0x0090e6c4 in MEMMAN_API_AllocStaticP (pool=0xffb7a8, size=104) at memman_st.c:387
        ptr = 0x1532bec
#3  0x00a28354 in OperatorNewDelete::myMalloc (size=104) at src/operatorNewDelete.cpp:119
        ret = <optimized out>
#4  0x00b79ba4 in Core::SHP::O_shape_new(int) ()
No symbol table info available.
#5  0x00b3e8c4 in Core::fn_1_87_12(unsigned int*&) ()
No symbol table info available.
#6  0x00b35348 in Core::scall_opentv_12(int, int, unsigned int*&) ()
No symbol table info available.
#7  0x00af2d60 in Core::Interpreter::scall(int, int) ()
No symbol table info available.
#8  0x00afa094 in Core::Interpreter::callFunction(unsigned char*, int, ...) ()
No symbol table info available.
#9  0x00b1479c in Core::GAD::O_gadget_send_message(void*, Core::o_message*) ()
No symbol table info available.
#10 0x00b44844 in Core::fn_1_86_12(unsigned int*&) ()
No symbol table info available.
#11 0x00b35348 in Core::scall_opentv_12(int, int, unsigned int*&) ()
No symbol table info available.
#12 0x00af2d60 in Core::Interpreter::scall(int, int) ()
No symbol table info available.
#13 0x00afa094 in Core::Interpreter::callFunction(unsigned char*, int, ...) ()
No symbol table info available.
#14 0x00b1479c in Core::GAD::O_gadget_send_message(void*, Core::o_message*) ()
No symbol table info available.
#15 0x00b44844 in Core::fn_1_86_12(unsigned int*&) ()
No symbol table info available.
#16 0x00b35348 in Core::scall_opentv_12(int, int, unsigned int*&) ()
No symbol table info available.
#17 0x00af2d60 in Core::Interpreter::scall(int, int) ()
No symbol table info available.
#18 0x00afa094 in Core::Interpreter::callFunction(unsigned char*, int, ...) ()
No symbol table info available.
#19 0x00afbc48 in Core::Interpreter::run(int) ()
No symbol table info available.
#20 0x00b21dfc in Core::KernelSm::applicationThread() ()
No symbol table info available.
#21 0x00baa1ac in Platform::threadEntryPoint(void*) ()
No symbol table info available.
#22 0x009eb9ac in SYSTEMUTIL_THR_P_ThreadPrologue (arg=<optimized out>) at systemutil_thread.c:612
        thread_routine = 0xbaa18c <Platform::threadEntryPoint(void*)>
        thread_arg = 0x15f3ddc
        ret = 0x15f3ddc
        thread_info = {thread_name = "LAE_THREAD", '\000' <repeats 21 times>, prio = 5, tid = 24261920, unique_id = 130, stackinfo = {stacksize = 32768, stackbase = 0x171c000 "", isSUStack = true}, fd_stat = 0, stat = {user = 0, sys = 0}, stat_last = {user = 0, sys = 0}, lnode = 0x1223ed8}
#23 0x2aac0f9c in start_thread (arg=<optimized out>) at libpthread/nptl/pthread_create.c:261
        pd = 0x1723520
        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {{__pc = 0x2aac0ec8 <start_thread+80>, __sp = 0x1723020, __regs = {715968512, 24261920, 715918968, 1, 4001536, 23805000, 10401672, 23805000}, __fp = 0x15f3df4, __gp = 0x2abab540 <timer_create+64>, __fpc_csr = 0, __fpregs = {-nan(0xfffffffffffff), -nan(0xfffffffffffff), -nan(0xfffffffffffff), -nan(0xfffffffffffff), -nan(0xfffffffffffff), -nan(0xfffffffffffff)}}}, mask_was_saved = 0}}, priv = {pad = {0x0, 0x0, 0x0, 0x0}, data = {prev = 0x0, cleanup = 0x0, canceltype = 0}}}
        not_first_call = 0
#24 0x2aacb200 in __thread_start () at ./libpthread/nptl/sysdeps/unix/sysv/linux/mips/../../../../../../../libc/sysdeps/linux/mips/clone.S:145


={============================================================================
|kt_si_log_0001| SI-10728 SI-10746 HTTP_POOL OOM

<app-crash>
From the first reports:
https://www.stb.bskyb.com/jira/browse/MID-6896

Parser Output: (P1): single-frame allocator is full in thread CA at line 80756. resulting in APP_Process crash in #0 MHWMemCheckBank (mpool=0xfb33f0, size=28, mem_nb_bank=1) at mem_blockpool.c:274 (built by hudson) Uptime: 14:21:23 Failure Time: 2016:08:02 15:25:48 

http://theyard.cisco.com/si_logs/translation/darwin_783e531781fa_23663e87aef9777d4fefa58afc671fa3/stack.txt
http://theyard.cisco.com/si_logs/translation/darwin_0019fbd5a0ed_3d41200d1a90eee5123554b81fe545e5/
Core was generated by `/NDS/bin/APP_Process APP_Process'.
Program terminated with signal 11, Segmentation fault.
#0  MHWMemCheckBank (mpool=0xfb33f0, size=28, mem_nb_bank=1) at mem_blockpool.c:274
#0  MHWMemCheckBank (mpool=0xfb33f0, size=28, mem_nb_bank=1) at mem_blockpool.c:274
        ind_bank = <optimized out>
        bank = 0x0
        pool = <optimized out>
        pool_max = 0x4
#1  0x008d5220 in MHWMemAllocStatic (pool=0xfb33f0, size=28) at mem_static.c:71
        block = <optimized out>
        i_bank = <optimized out>
#2  0x008ce0c8 in MEMMAN_API_AllocStaticP (pool=0xfb33f0, size=2) at memman_st.c:381
        ptr = <optimized out>
#3  0x0089f4a8 in IPC_wrapper_CtxMalloc (size=28) at ipc_wrapper.c:1917
No locals.
#4  0x008a71e0 in IPC_tl_queue_ReadFragment (first=true, msg_struct=0x10c9e54, msg=0x10c9f44, queue=0x1096e58, count=0) at ipctl_queue.c:174
        l_status = <optimized out>
#5  0x008a7918 in IPC_TL_QUEUE_ReadMsg (msg=0x10c9f44, queue_data=0x1096e58, msg_size=0x10c9f00, required_id=4 '\004', source_cl_id=0x10c9eb8 "\004", eventId=0x10c9f48, from_self=0x10c9ebc, timeout=4294967295) at ipctl_queue.c:549
        failure = <optimized out>
        l_timeoutStruct = {tv_sec = 14876672, tv_nsec = 17604288}
        l_status = <optimized out>
        msg_struct = {cl_id = 4 '\004', flags = 0 '\000', fragment_size = 2, eventId = 4, total_size = 2}
        l_readQueue = <optimized out>
        l_queue = 0x2ae80000
        mutex = 0x2ae80008
#6  0x008a5c3c in IPC_TL_CLIENT_ReceiveBig (clientHandle=<optimized out>, timeout=4294967295, message=0x10c9f44, messageLen=0x10c9f00, eventId=0x10c9f48) at ipctl.c:752
        l_status = <optimized out>
        l_pair = 0x1096e54
        dummy = 4 '\004'
        from_self = <optimized out>
#7  0x008a5ce8 in IPC_TL_CLIENT_Receive (clientHandle=16462832, timeout=28, message=0x1, msg_size=0x10c9f40, eventId=0x10c9f48) at ipctl.c:661
        l_status = <optimized out>
        message_len = 2
        l_pair = 0x0
#8  0x008a2b58 in IPC_wrapper_ClientControlThread (arg=<optimized out>) at ipc_wrapper.c:1135
        client_handle = 12582915
        message = 0x150f7cc ""
        msg_size = 2
        event_id = 4
        ctrlMessage = {event = 4, msg = {discOne = {componentIndex = 13 '\r', interface = 0x1a9fb8 <Address 0x1a9fb8 out of bounds>}, discResp = {version = 218103808, result = 0 '\000', connIndex = 26 '\032', name = 0x147c59a ""}, discTwo = {version = 218103808, connIndex = 0 '\000', clientNum = 26 '\032', compIndex = 159 '\237', ifIndex = 184 '\270'}, clClose = {version = 218103808, connIndex = 0 '\000', from_client = 26}, clIncoming = {hdl = 13 '\r'}, srvIncoming = {componentIndex = 13 '\r', interfaceIndex = 0 '\000'}, serverClose = {componentIndex = 13 '\r', interfaceIndex = 0 '\000'}}}
        list_node = <optimized out>
        client_comp_ref = <optimized out>
        search_key = {key_data = {name = 0x0, comp_idx = 0 '\000'}}
#9  0x0099d9cc in SYSTEMUTIL_THR_P_ThreadPrologue (arg=<optimized out>) at systemutil_thread.c:612
        thread_routine = 0x8a2ae4 <IPC_wrapper_ClientControlThread>
        thread_arg = 0x1096e14
        ret = 0x1096e14
        thread_info = {thread_name = "IPC_WRAPPER_CLI_CTRL_THREAD\000\000\000\000", prio = 5, tid = 17605920, unique_id = 15, stackinfo = {stacksize = 16384, stackbase = 0x10c7000 "", isSUStack = true}, fd_stat = 0, stat = {user = 0, sys = 0}, stat_last = {user = 0, sys = 0}, lnode = 0x1096f38}
#10 0x2aac0f9c in start_thread (arg=<optimized out>) at libpthread/nptl/pthread_create.c:261
        pd = 0x10ca520
        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {{__pc = 0x2aac0ec8 <start_thread+80>, __sp = 0x10ca020, __regs = {715968512, 17605920, 715918968, 1, 4001536, 17314640, 10082216, 17314640}, __fp = 0x1096e30, __gp = 0x2abab540 <timer_create+64>, __fpc_csr = 0, __fpregs = {-nan(0xfffffffffffff), -nan(0xfffffffffffff), -nan(0xfffffffffffff), -nan(0xfffffffffffff), -nan(0xfffffffffffff), -nan(0xfffffffffffff)}}}, mask_was_saved = 0}}, priv = {pad = {0x0, 0x0, 0x0, 0x0}, data = {prev = 0x0, cleanup = 0x0, canceltype = 0}}}
        not_first_call = 0
#11 0x2aacb200 in __thread_start () at ./libpthread/nptl/sysdeps/unix/sysv/linux/mips/../../../../../../../libc/sysdeps/linux/mips/clone.S:145

This is the same and is tracked in:
https://www.stb.bskyb.com/jira/browse/SI-10718


<mw-crash>
http://theyard.cisco.com/si_logs/translation/darwin_0019fb0f5471_d3b8df910705af8d5a328cd6a610526e/stack_477.txt

Core was generated by `/NDS/bin/MW_Process MW_Process'.
Program terminated with signal 11, Segmentation fault.
#0  0x010ae3b4 in DRMC_RP_BackChannel_EstablishCommunicationSession ()
#0  0x010ae3b4 in DRMC_RP_BackChannel_EstablishCommunicationSession ()
No symbol table info available.
#1  0x0107c1f8 in VGC_RP_BackChannel_EstablishCommunicationSession ()
No symbol table info available.
#2  0x007cc7d8 in HTTP_SAC_VGC_Init (sessionHandle=<optimized out>, backChanHdl=0x22d1fdc, security_scheme=VGC_RP_DRM_SCHEME, auth_uri=<optimized out>, auth_uri_len=15, cb=0x7ccc54 <HTTP_SAC_VGC_SYNC_NotifyCb>) at src/http_sac_vgc.c:192
        vgc_status = 180375552
        l_encryption = VGC_RP_AES
        l_signature = VGC_RP_SHA1
        l_status = 222298112
        desc = 0x0                    <== note
        desc_size = 17

#6  0x004e0468 in CTM_SVR_HTTP_PerformSecure (download_info=0x1d5af18) at ctm_svr_secure_communication.c:362
        ret = <optimized out>
        post_perform_action = <optimized out>
        ex = SYSTEM_EXCEPTION_TYPE_UNDEF

#7  0x0050ab84 in CTM_SVR_FTM_Download_Thread (p=0x15244e8 <g_dl_ctx>) at ctm_svr_file_transfer_manager.c:2334


/**************** VGC Management  ************************/
/* VGC initialization */
SYSTEM_STATUS HTTP_SAC_VGC_Init(HTTP_API_Handle_t *sessionHandle,
                                VGC_RP_HANDLE * backChanHdl,
                                VGC_RP_AUTHENTICATION_SCHEME security_scheme,
                                char * auth_uri,
                                size_t auth_uri_len,
                                VGC_RP_ClientNotify *cb)
{
   uint8_t *desc = NULL;
   uint32_t desc_size = 0U;

   // get from HTTP_POOL
   //
   if (!SYSTEM_STATUS_IS_OK(HTTP_SAC_CreateAuthDescriptor(auth_uri, auth_uri_len, &desc, &desc_size)))
   {
       // note: INFO so not in a log
       DBG_PRINT_I(("HTTP_SAC_CreateAuthDescriptor failed"));
   }

   ...

   else if(!SYSTEM_STATUS_IS_OK((vgc_status = VGC_RP_BackChannel_EstablishCommunicationSession(*backChanHdl,
                                                                                               desc,
                                                                                               desc_size))))
   {
        DBG_PRINT_F(("VGC_RP_BackChannel_EstablishCommunicationSession failed, status = %#x", vgc_status));
        l_status = HTTP_API_E_INTERNAL_ERROR;
   }
   else
   {
      /* Misra */
   }
   if(NULL != desc)
   {
      (void)prvHTTP_MEMMAN_Free(desc);
      desc = NULL;
   }
}

// starts from
1471329:NDS: !WARN   -MEMMAN           < P:MW t:0x01d5b520 T:CTM_SVR_DL_CONTENT M:mem_static.c F:MHWMemAllocStatic L:75 > Cannot allocate 248 bytes in pool " "MW_HTTP_POOL"

...

// shows last line from MW

1473020:NDS: !ERROR  -MEMMAN       		< P:MW t:0x01d5b520 T:CTM_SVR_DL_CONTENT M:mem_blockpool.c F:MHWMemCheckBank L:310 > CHECK_BANK Size:40 FreeSize:36 Bank:1 PoolMAX:388000 
1473021:NDS: !WARN   -MEMMAN       		< P:MW t:0x01d5b520 T:CTM_SVR_DL_CONTENT M:mem_static.c F:MHWMemAllocStatic L:75 > Cannot allocate 40 bytes in pool " "MW_HTTP_POOL"  
1473022:NDS: !WARN   -MEMMAN       		< P:MW t:0x01d5b520 T:CTM_SVR_DL_CONTENT M:mem_static.c F:MHWMemAllocStatic L:78 > Biggest block is 36 bytes 
1473023:NDS: !ERROR  -HTTP         		< P:MW t:0x01d5b520 T:CTM_SVR_DL_CONTENT M:http_sac_vgc.c F:HTTP_SAC_CreateDescriptor L:245 > Failed to allocate mem 
1473024:NDS: !FATAL  -HTTP         		< P:MW t:0x01d5b520 T:CTM_SVR_DL_CONTENT M:http_sac_vgc.c F:HTTP_SAC_CreateAuthDescriptor L:284 > HTTP_SAC_CreateDescriptorFromString failed 
1473025:NDS: !MIL    -DRM_Manager  		< P:CA t:0x009b4110 T:no name M:../../../../..//src/drmcore/src/agentapi.c F:NDS_CreateSessionObject L:1461 > !DRM_MIL_API! handle=531 created Session Object
1473026:NDS: !MIL    -DRM_Manager  		< P:MW t:0x01d5b520 T:CTM_SVR_DL_CONTENT M:../../../../..//src/extensions/drmc/src/drmc_rp. F:DRMC_RP_BackChannel_CreateObject L:345 > !VGC_DRM_MIL_API! handle=[2081:08:26 18:27:36]3000002310, linked to T17 handle=[2081:08:26 18:27:37]3000002311, status: 0xac05000


<membuster>
https://www.stb.bskyb.com/jira/browse/SI-10729

STB 1
http://theyard.cisco.com/si_logs/translation/darwin_0019fbf2a5ef_09b20a3801c2037b91837a28a9752a27/membuster_report/MW_MW_HTTP_POOL.html

<1>


size=10817 (7c8db8 7a6c54 `7b1a78` 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518 ) [616dbc3c]
1270:allocs:373

addr2line -f -s -e unstripped_processes/MW_Process 7c8db8 7a6c54 7b1a78 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518

// transfer.c

struct Cookie {
  struct Cookie *next; /* next in the chain */
  char *name;        /* <this> = value */
  char *value;       /* name = <this> */
  char *path;         /* path = <this> */
  char *domain;      /* domain = <this> */
  ...
};

struct CookieInfo {
  /* linked list of cookies we know of */
  struct Cookie *cookies;

  char *filename;  /* file we read from/write to */
  bool running;    /* state info, for cookie adding information */
  long numcookies; /* number of cookies in the "jar" */
  bool newsession; /* new session, discard session cookies on load */
};


NDS_HTTP_strdup
// CMS_SYSTEM_INFRASTRUCTURE/HTTP/src/lib/upset/src/string/src/strdup.c
// char *NDS_HTTP_strdup(str)
// const char *str;
// {
//     size_t len;
//     char *copy;
// 
//     len = strlen(str) + 1;
// 
//     if ((copy = (char *)prvHTTP_MEMMAN_Malloc(len)) == NULL)
//         return (NULL);
// 
//     memcpy(copy, str, len);
// 
//     return (copy);
// }
strdup.c:53


NDS_HTTP_strdup_DEBUG
// CMS_SYSTEM_INFRASTRUCTURE/HTTP/src/lib/curl/curl_v7_26_0/src/libcurl_portage.c
// char *NDS_HTTP_strdup_DEBUG(const char *str,const char *file,int line)
// {
//    CURL_DBG_DECLARE(("NDS_HTTP_strdup_DEBUG"));
// 
//    CURL_DBG_PRINT_I(("(F: %s, L: %d) Strdup: %s",file,line,str));
// 
//   return NDS_HTTP_strdup(str);
// }
libcurl_portage.c:35


// NDS_HTTP_strdup_DEBUG is called from Curl_cookie_add, cookie.c:436 


Curl_cookie_add
cookie.c:436 ~

Curl_http_readwrite_headers
*http.c:3711*

readwrite_data
transfer.c:492
Transfer
transfer.c:1479

5952:NDS: ^[2016:08:16 14:08:26]0946685399.586018 !ERROR  -LIBCURL      		< p:0x00000264 P:MW t:0x01e07520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:755 > KIT: 
Added cookie sky-pdl-client-credentials-a=\"ip=91.234.201.1~expires=[2016:08:16 14:38:26]1471358306~access=/60448/bsky_skydisney/MOVIE/bsky_skydisney-MAIN000000[2016:08:31 03:38:46]0001258819-20150926[2018:12:28 15:13:20]1546010000.nff*~md5=84f19af32707950c1db4e742cdc1eb89\" 
  for domain cdn.sky.com, 
  path /60448/bsky_skydisney/MOVIE/bsky_skydisney-MAIN000000[2016:08:31 03:38:46]0001258819-20150926[2018:12:28 15:13:20]1546010000.nff, " "expire %" "lld" "\n 


HTTP_API_Perform
http_api.c:1789

SYSTEM_STATUS HTTP_API_Perform(HTTP_API_Handle_t * handle)
            status = ConvErrorCodeLib2HTTP( (uint8_t)curl_easy_perform((CURL *)handle) );


CMS_SYSTEM_INFRASTRUCTURE/HTTP/src/lib/curl/curl_v7_26_0/src/easy.c
CURLcode curl_easy_perform(CURL *curl)
{
  struct SessionHandle *data = (struct SessionHandle *)curl;

  /* start NDS */
  Curl_http_patch_expired_cookies(data);
  /* end NDS */

  CMS_SYSTEM_INFRASTRUCTURE/HTTP/src/lib/curl/curl_v7_26_0/src/libcurl_http.c
  void Curl_http_patch_expired_cookies(struct SessionHandle *data)
  {
    // ONLY when both cookies are different
    if( !data->share || (data->cookies != data->share->cookies) ) {
      Curl_cookie_cleanup_expired_cookies(data->cookies);
    }

    void Curl_cookie_cleanup_expired_cookies(struct CookieInfo *c)
    {
      co = c->cookies;

      while(co->next)
      {
      }
    }
  }

  // @552, easy.c
  // curl_easy_perform
  // easy.c:552

  return Curl_perform(data);
}

  CURLcode Curl_perform(struct SessionHandle *data)
  {
    Curl_do_perform
    {
      for(;;) {

      // @1347,
      //
      // Transfer(struct connectdata *conn)
      //
      res = Transfer(conn); /* now fetch that URL please */
      {
        struct SessionHandle *data = conn->data;

        // @388, CMS_SYSTEM_INFRASTRUCTURE/HTTP/src/lib/curl/curl_v7_26_0/src/transfer.c              
        //
        // static CURLcode readwrite_data(struct SessionHandle *data, )
        //
        result = Curl_readwrite(conn, &done);
        {
          // static CURLcode readwrite_data(struct SessionHandle *data,
          //     struct connectdata *conn,
          //     struct SingleRequest *k,
          //     int *didwhat, bool *done)
          result = readwrite_data(data, conn, k, &didwhat, done);
          {

            // @3036, CMS_SYSTEM_INFRASTRUCTURE/HTTP/src/lib/curl/curl_v7_26_0/src/http.c
            //
            // note: SessionHandle has struct CookieInfo *cookies which
            // becomes data->cookies 
            // 
            // CURLcode Curl_http_readwrite_headers(struct SessionHandle *data,);
            //
            result = Curl_http_readwrite_headers(data, conn, &nread, &stop_reading);
            {
              // @3712
              else if(data->cookies && checkprefix("Set-Cookie:", k->p)) 
              {
                Curl_cookie_add(data, data->cookies, TRUE, k->p+11);
                // struct Cookie *
                // Curl_cookie_add(struct SessionHandle *data,
                //                struct CookieInfo *c,
                {
                  struct Cookie *co;
                  struct Cookie *lastc=NULL;
                  bool replace_old = FALSE;

                  co = calloc(1, sizeof(struct Cookie));

                  /* now, we have parsed the incoming line, we must now check if
                   * this superceeds an already existing cookie, which it may if
                   * the previous have the same domain and path as this */

                  // Q: What if a cookie is not in the list? Not freed and have
                  // to handle it in the call site?

                  clist = c->cookies;
                  replace_old = FALSE;

                  while(clist) {

                    // check if have to `replace` it?
                    
                    if(replace_old) {
                      co->next = clist->next; /* get the next-pointer first */

                      /* then free all the old pointers */
                      free(clist->name);
                      // ...

                      *clist = *co;  /* then store all the new data */

                      free(co);   /* free the newly alloced memory */
                      co = clist; /* point to the previous struct instead */
                    }
                    clist = clist->next;
                  }

                  // this is new one
                  if(!replace_old) {

                    /* then make the last item point on this new one */
                    if(lastc)
                      lastc->next = co;
                    else
                      c->cookies = co;
                  }

                  c->numcookies++; /* one more cookie in the jar */
                  return co;
                }
              }

              // @3789
              result = Curl_client_write(conn, writetype, k->p, k->hbuflen);
              {
                // note: this causes
                // DBG_PRINT_E(("Perform failure. status : %#x", status));
                // !ERROR  -HTTP         		< T:CTM_SVR_DL_CONTENT M:http_api.c F:HTTP_API_Perform L:1811 > Perform failure. status : 0xd43000a 
                
                if(wrote != len) {
                  failf(data, "Failed writing body (%zu != %zu)", wrote, len);
                  return CURLE_WRITE_ERROR;
                }
              }

              if(result)
                return result;
            }
            if(result)
              return result;
          }

          if(result || *done)
            return result;

        }

        return result;
      }
      return res;
    }
  }
}


CTM_SVR_HTTP_PerformStandard
ctm_svr_standard_communication.c:74
// still no allocation
// CTM_SVR_HTTP_PerformStandard(CTM_SVR_PerformInfo_t* download_info)
// HTTP_API_Perform   74 CMS_MEDIA_SERVICES/CTM/src/server/ctm_svr_standard_communication.c     ret = HTTP_API_Perform(download_info->handle);

CTM_SVR_FTM_Download_Thread
ctm_svr_file_transfer_manager.c:2339
// perform_info is local structure
// http_perform_post_action = CTM_SVR_HTTP_PerformStandard(&perform_info);



<2>
size=63522 (7c8db8 7a6c54 `7b1a98` 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518 ) [638dbc5c]
1645:allocs:373

addr2line -f -s -e unstripped_processes/MW_Process 7c8db8 7a6c54 7b1a98 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518

NDS_HTTP_strdup
strdup.c:53
NDS_HTTP_strdup_DEBUG
libcurl_portage.c:35
Curl_cookie_add
cookie.c:437 ~
Curl_http_readwrite_headers
*http.c:3711*

readwrite_data
transfer.c:492
Transfer
transfer.c:1479
curl_easy_perform
easy.c:552
...


<3>
size=1865 (7c8db8 7a6c54 7b0fa4 7b19bc 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518 ) [7dc0cb9f]
2020:allocs:373

addr2line -f -s -e unstripped_processes/MW_Process 7c8db8 7a6c54 7b0fa4 7b19bc 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518

NDS_HTTP_strdup
strdup.c:53
NDS_HTTP_strdup_DEBUG
libcurl_portage.c:35
strstore ~
// static void strstore(char **str, const char *newstr)
// {
//   if(*str)
//     free(*str);
//   *str = strdup(newstr);
// }
cookie.c:209 ~
Curl_cookie_add
cookie.c:408
Curl_http_readwrite_headers
*http.c:3711*
readwrite_data
transfer.c:492
Transfer
transfer.c:1479
curl_easy_perform
easy.c:552
HTTP_API_Perform
http_api.c:1789
CTM_SVR_HTTP_PerformStandard
ctm_svr_standard_communication.c:74
CTM_SVR_FTM_Download_Thread
ctm_svr_file_transfer_manager.c:2339
SYSTEMUTIL_THR_P_ThreadPrologue
systemutil_thread.c:612


<4>
size=32943 (7c8db8 7a6c54 7b0fa4 7b1880 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518 ) [68c4ca63]
2395:allocs:373

addr2line -f -s -e MW_Process 7c8db8 7a6c54 7b0fa4 7b1880 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518

NDS_HTTP_strdup
strdup.c:53
NDS_HTTP_strdup_DEBUG
libcurl_portage.c:35
strstore
cookie.c:209
Curl_cookie_add
cookie.c:318 ~
Curl_http_readwrite_headers
http.c:3711


<5>
size=4476 (7c8db8 7a6c54 7b0fa4 7b1934 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518 ) [74b8cb17]
2770:allocs:373

addr2line -f -s -e MW_Process 7c8db8 7a6c54 7b0fa4 7b1934 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518

Curl_cookie_add
cookie.c:372 ~
Curl_http_readwrite_headers
http.c:3711


<6>
size=20888 (7a059c 7b16a0 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518 ) [d599c377]
893:allocs:373

addr2line -f -s -e unstripped_processes/MW_Process 7a059c 7b16a0 7b64b8 7c3670 7c4850 7a7524 7986e0 5101d8 50abe8 e91518

prvHTTP_MEMMAN_Calloc
http_mem.c:97

Curl_cookie_add
// {
//  /* First, alloc and init a new struct for it */
//  co = calloc(1, sizeof(struct Cookie));
// }
cookie.c:248

Curl_http_readwrite_headers
http.c:3711
readwrite_data
transfer.c:492
Transfer
transfer.c:1479
curl_easy_perform
easy.c:552


<2>
http://theyard.cisco.com/si_logs/translation/darwin_783e531779ff_ab81fc0c4db757874fc0f21a98e4bfb8/membuster_report/MW_MW_HTTP_POOL.html

STB 16
http://theyard.cisco.com/si_logs/translation/darwin_0019fb7efd4c_a12465b429863b71f951e2ed70bba2d2/membuster_report/MW_MW_HTTP_POOL.html


<pattern-01>

Script: OD.03(R12_89x) - Start_Delete Downloads (11.03)
Baseline(s):
84.31M

shows CTM_FTM_SetHTTPOptions on top.

NDS_HTTP_strdup
strdup.c:53
NDS_HTTP_strdup_DEBUG
libcurl_portage.c:35
curl_slist_append
slist.c:63
HTTP_API_SlistAppend
http_api.c:1721
CTM_FTM_SetHTTPOptions
ctm_svr_file_transfer_manager.c:1885
SYSTEMUTIL_THR_P_ThreadPrologue
systemutil_thread.c:612 

STB 1 
http://theyard.cisco.com/si_logs/translation/darwin_0019fb603bf4_2b73877034ae3cdd32832dd0fc602429/membuster_report/MW_MW_HTTP_POOL.html

STB 5
http://theyard.cisco.com/si_logs/translation/darwin_0019fb603bed_3da3bc73ca167173da6547967d1ade77/membuster_report/MW_MW_HTTP_POOL.html

STB 7
http://theyard.cisco.com/si_logs/translation/darwin_0019fb603c03_defa4167fa309246f1f1a911215d34ae/membuster_report/MW_MW_HTTP_POOL.html

STB 8 
http://theyard.cisco.com/si_logs/translation/darwin_0019fb603c0e_85491ae0a6dfd4d8473deff07e916a84/membuster_report/MW_MW_HTTP_POOL.html

STB 9
http://theyard.cisco.com/si_logs/translation/darwin_0019fb603c46_0a02444a6a7f33e700d18c053f834a47/membuster_report/MW_MW_HTTP_POOL.html

STB 13 
http://theyard.cisco.com/si_logs/translation/darwin_0019fb603c2d_4355186c09723aa6a9c15420346955be/membuster_report/MW_MW_HTTP_POOL.html

STB 14
http://theyard.cisco.com/si_logs/translation/darwin_0019fb603c38_6b0416724b71ed222ad4e11d03fb156f/membuster_report/MW_MW_HTTP_POOL.html

STB 16: shows CTM_FTM_SetHTTPOptions on top.
http://theyard.cisco.com/si_logs/translation/darwin_0019fb603c54_17242d2edffbe3672be8e3f715f153af/membuster_report/MW_MW_HTTP_POOL.html


<pattern-02>
prvHTTP_MEMMAN_Calloc
http_mem.c:97
HTTP_SAC_getUriParam
http_sac_utils.c:993

HTTP_SAC_Create_SAC_Handle
http_sac_utils.c:617

// only place used in this function
//
//  if(!SYSTEM_STATUS_IS_OK((ret_status = HTTP_SAC_getAuthUri(sessionHandle, &auth_uri, &auth_uri_len))))
// 
//  else if(!SYSTEM_STATUS_IS_OK((ret_status = HTTP_SAC_VGC_Init(sessionHandle,
//                 &sac_handle_int->vgc_handle,
//                 security_scheme,
//                 auth_uri,
//                 auth_uri_len,
//                 cb))))
//

HTTP_SAC_SYNC_TransferPreProcessing
http_sac.c:115
HTTP_API_Perform
http_api.c:1766
CTM_SVR_HTTP_PerformSecure
ctm_svr_secure_communication.c:362
CTM_SVR_FTM_Download_Thread
ctm_svr_file_transfer_manager.c:2334
SYSTEMUTIL_THR_P_ThreadPrologue
systemutil_thread.c:612 

+++ b/CMS_SYSTEM_INFRASTRUCTURE/HTTP/src/http/src/http_sac_utils.c
@@ -682,6 +682,13 @@ SYSTEM_STATUS HTTP_SAC_Create_SAC_Handle(HTTP_ASYNC_Handle_t * queueHandle,
             (void)prvHTTP_MEMMAN_Free(sac_handle_int);
             sac_handle_int = NULL;
         }
+
+        /* IRH: HIJACK: */
+        if (auth_uri != NULL)
+        {
+            DBG_PRINT_E(("** KIT: SI-10728: IRH: HIJACK **"));
+            (void)prvHTTP_MEMMAN_Free(auth_uri);
+        }
     }


<tr-log>
SI-10728/TR-with-00.18.08/darwin_783e530414a8_d17673ec944c97de36f7cfaf557fb5da$


218996:start check at: 013:20:10.348
219890:OOM Detected at: 013:32:09.086

// first OOM in the log
269217:NDS: ^[2016:08:21 20:14:30]0946879384.903082 !ERROR  -MEMMAN       		< p:0x000001bb P:MW t:0x01e19520 T:CTM_SVR_DL_CONTENT M:mbuster_pinit.c F:membuster_plus_check_pool L:755 > MEMBUSTER: pool MW_HTTP_POOL, 
  count `504 size 28224`, bt(007f4f64 007dcff4 007eefa0 007a15a4 007a2adc 007a3b54 007a5028 007a53c0 0079dfd4 0079a950 0051038c 0050ae0c 00ef52d4 ) 
269218:NDS: ^[2016:08:21 20:14:30]0946879384.929905 !ERROR  -MEMMAN       		< p:0x000001bb P:MW t:0x01e19520 T:CTM_SVR_DL_CONTENT M:mbuster_pinit.c F:membuster_plus_check_pool L:755 > MEMBUSTER: pool MW_HTTP_POOL, count 504 size 14616, bt(007c63bc 007dfab8 007dd838 007eefa0 007a15a4 007a2adc 007a3b54 007a5028 007a53c0 0079dfd4 0079a950 0051038c 0050ae0c 00ef52d4 ) 
269219:NDS: ^[2016:08:21 20:14:30]0946879384.951279 !ERROR  -MEMMAN       		< p:0x000001bb P:MW t:0x01e19520 T:CTM_SVR_DL_CONTENT M:mbuster_pinit.c F:membuster_plus_check_pool L:755 > MEMBUSTER: pool MW_HTTP_POOL, count 504 size 86482, bt(007c63bc 007dfab8 007dd864 007eefa0 007a15a4 007a2adc 007a3b54 007a5028 007a53c0 0079dfd4 0079a950 0051038c 0050ae0c 00ef52d4 ) 
269220:NDS: ^[2016:08:21 20:14:30]0946879384.992061 !ERROR  -MEMMAN       		< p:0x000001bb P:MW t:0x01e19520 T:CTM_SVR_DL_CONTENT M:mbuster_pinit.c F:membuster_plus_check_pool L:755 > MEMBUSTER: pool MW_HTTP_POOL, count 504 size 2520, bt(007c63bc 007dfab8 007dcf4c 007dd670 007eefa0 007a15a4 007a2adc 007a3b54 007a5028 007a53c0 0079dfd4 0079a950 0051038c 0050ae0c 00ef52d4 ) 
269221:NDS: ^[2016:08:21 20:14:31]0946879385.016120 !ERROR  -MEMMAN       		< p:0x000001bb P:MW t:0x01e19520 T:CTM_SVR_DL_CONTENT M:mbuster_pinit.c F:membuster_plus_check_pool L:755 > MEMBUSTER: pool MW_HTTP_POOL, count 504 size 45248, bt(007c63bc 007dfab8 007dcf4c 007dd3f4 007eefa0 007a15a4 007a2adc 007a3b54 007a5028 007a53c0 0079dfd4 0079a950 0051038c 0050ae0c 00ef52d4 ) 
269222:NDS: ^[2016:08:21 20:14:31]0946879385.040478 !ERROR  -MEMMAN       		< p:0x000001bb P:MW t:0x01e19520 T:CTM_SVR_DL_CONTENT M:mbuster_pinit.c F:membuster_plus_check_pool L:755 > MEMBUSTER: pool MW_HTTP_POOL, count 504 size 6048, bt(007c63bc 007dfab8 007dcf4c 007dd57c 007eefa0 007a15a4 007a2adc 007a3b54 007a5028 007a53c0 0079dfd4 0079a950 0051038c 0050ae0c 00ef52d4 ) 

// first OOM in MEM_xx.TXT
993:size=25032 (7f4f64 7dcff4 7eefa0 7a15a4 7a2adc 7a3b54 7a5028 7a53c0 79dfd4 79a950 51038c 50ae0c ef52d4 ) [f688c2a7]
1441:allocs:`447`
1445:size=12963 (7c63bc 7dfab8 7dd838 7eefa0 7a15a4 7a2adc 7a3b54 7a5028 7a53c0 79dfd4 79a950 51038c 50ae0c ef52d4 ) [0225da76]
1893:allocs:447
1894:size=76897 (7c63bc 7dfab8 7dd864 7eefa0 7a15a4 7a2adc 7a3b54 7a5028 7a53c0 79dfd4 79a950 51038c 50ae0c ef52d4 ) [0619daa2]
2342:allocs:447
2343:size=2235 (7c63bc 7dfab8 7dcf4c 7dd670 7eefa0 7a15a4 7a2adc 7a3b54 7a5028 7a53c0 79dfd4 79a950 51038c 50ae0c ef52d4 ) [e33ba878]
2791:allocs:447
2792:size=40319 (7c63bc 7dfab8 7dcf4c 7dd3f4 7eefa0 7a15a4 7a2adc 7a3b54 7a5028 7a53c0 79dfd4 79a950 51038c 50ae0c ef52d4 ) [aa17a5fc]
3240:allocs:447
3241:size=5364 (7c63bc 7dfab8 7dcf4c 7dd57c 7eefa0 7a15a4 7a2adc 7a3b54 7a5028 7a53c0 79dfd4 79a950 51038c 50ae0c ef52d4 ) [cd4fa784]
3689:allocs:447

1686233:allocs:504
1686235:allocs:504

1462439:OOM Detected at: 032:02:23.066

// this is from normal check but not from OOM check.
size=28224 (7f4f64 7dcff4 7eefa0 7a15a4 7a2adc 7a3b54 7a5028 7a53c0 79dfd4 79a950 51038c 50ae0c ef52d4 ) [f688c2a7]
allocs:504

// next OOM
1700024:OOM Detected at: 043:55:06.053


<cookies>
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:287 > KIT: co(0x1715990) = count_alloc(1), count_free(0), calloc(56)
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:890 > KIT: Added cookie: 
sky-pdl-client-cr edentials-a=\"ip=91.234.201.1~expires=[2016:08:31 10:59:27]1472641167~access=/60441/abc.sd.com/MOVIE/abc.sd.com-MAIN000000[2016:09:01 05:00:47]0000067174-20160409[2045:09:01 00:34:33]0915200000.nff*~md5=a51c 92ba04bd0ca990ae9c7d65671a19\" 
for domain cdn.sky.com, path /60441/abc.sd.com/MOVIE/abc.sd.com-MAIN000000[2016:09:01 05:00:47]0000067174-20160409[2045:09:01 00:34:33]0915200000.nff, 
    expire 0\n ;-( DIAG AUTOM ATIC SUBSTITUTION:replace 8 bytes format code by 4 bytes format code  ;-(

P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:893 > KIT: co(0x1715990), count_alloc(1), count_free(0), size(284)\n
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:910 > KIT: replace_old is false. add it to list((nil))


P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:http.c F:Curl_http_readwrite_headers L:3711 > KIT: Set-Cookie: call Cur l_cookie_add()
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:287 > KIT: co(0x2314eb8) = count_alloc(2), count_free(0), calloc(56)
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:890 > KIT: Added cookie: 
sky-pdl-client-cr edentials-a=\"ip=91.234.201.1~expires=[2016:08:31 10:59:27]1472641167~access=/329553/*~md5=bf8292dd4d5a48dcb03335534ebe46cb\" 
for domain cdn.sky.com, path /329553/, expire 0\n ;-( DIAG AUTOMATIC SUBSTITUTION :replace 8 bytes format code by 4 bytes format code  ;-( 

P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:893 > KIT: co(0x2314eb8), count_alloc(2), count_free(0), size(144)\n
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:910 > KIT: replace_old is false. add it to list(0x1715990)

P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:http.c F:Curl_http_readwrite_headers L:3711 > KIT: Set-Cookie: call Cur l_cookie_add()
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:287 > KIT: co(0x2342c40) = count_alloc(3), count_free(0), calloc(56)
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:850 > KIT: replace_old is true, replaced a nd free(co(0x2342c40), count_free(-1))
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:890 > KIT: Replaced cookie: 
sky-pdl-client -credentials-a=\"ip=91.234.201.1~expires=[2016:08:31 10:59:27]1472641167~access=/329553/*~md5=bf8292dd4d5a48dcb03335534ebe46cb\" 
for domain cdn.sky.com, path /329553/, expire 0\n ;-( DIAG AUTOMATIC SUBSTITUT ION:replace 8 bytes format code by 4 bytes format code  ;-(
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:893 > KIT: co(0x2314eb8), count_alloc(3), count_free(-1), size(144)\n

P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:http.c F:Curl_http_readwrite_headers L:3791 > KIT: from Curl_client_wri te(): result = 0
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:http.c F:Curl_http_readwrite_headers L:3711 > KIT: Set-Cookie: call Cur l_cookie_add()
P:MW t:0x01dc7520 T:CTM_SVR_DL_CONTENT M:cookie.c F:Curl_cookie_add L:287 > KIT: co(0x2342c40) = count_alloc(4), count_free(-1), calloc(56)


={============================================================================
|kt_dev_si_0002| SI-10654

<1>
// seen 116 times
> Leak detected in ref for VTable 25 (ref count 251)

// last and `FindEle` mesage about leak
1488078:NDS: !FATAL  -P_ApiD   < AIN M:player_vtable.c F:VTABLE_FindElement L:1153 > Leak detected in ref for VTable 25 (ref count 255) 

// vtable error
1488104:NDS: !ERROR  -P_ApiD   < M:player_vtable.c F:VTABLE_ReleaseElement L:903 > GETELEMENT VTable 25 failed to found handle 1 
1488106:NDS: !ERROR  -P_ApiD   < M:player_vtable.c F:VTABLE_ReleaseElement L:903 > GETELEMENT VTable 25 failed to found handle 1 

// seems that fails to get a context from a session 

// first play error from epg and shows the same afterwards
1493938:NDS: !MIL    -EPG_TVVM < M:Tuner F:playService L:187 > T:PooledExecutor#4:### Tuner.playService
1493939:NDS: !MIL    -EPG_ME   < M:CautiousTuner F:tuneToService L:141 > T:PooledExecutor#4:CautiousTuner.tuning immediately
1493940:NDS: !MIL    -EPG_PLAY < M:WatchNextContext F:disable L:64 > T:PooledExecutor#4:WatchNextContext.disable Disabling watchnext context
1493942:NDS: !MIL    -EPG_PLAY < M:WatchNextContext F:disable L:64 > T:PooledExecutor#4:WatchNextContext.disable Disabling watchnext context
1493943:NDS: !MIL    -EPG_TVVM < M:TVViewingManager F:existsInChannelLineup L:1676 > T:PooledExecutor#4:existsInChannelLineup > construct Promise
1493944:NDS: !MIL    -EPG_ME   < M:MediaEngine F:playService L:1485 > T:PooledExecutor#4:TUNING TO Sky1 HD, 106 locator:5:3:FDD
1493945:NDS: !MIL    -P_Api    < M:player_api_session.c F:PLAYER_API_Session_Play L:4106 > PLAY 
1493946:NDS: !ERROR  -P_Api    < M:player_api_context.c F:PLAYER_Context_GetContextFromSession L:1471 > Could not unravel contexts structure 
1493947:NDS: !ERROR  -P_Api    < M:player_api_session.c F:PLAYER_PRV_Session_Play L:6142 > Failed to get session structure 
1493949:NDS: !ERROR  -EPG_ME   < M:MediaEngine F:dealWithMWError L:4031 > T:PooledExecutor#4:Play service failed anh@59427b3



<2>
LOGlastrun_part:[2016:06:21 01:12:31]!FATAL  -P_ApiD       T:PLAYER_MAIN M:player_vtable.c F:VTABLE_FindElement L:1153 > Leak detected in ref for VTable 25 (ref count 255) 
LOGlastrun_part:[2016:06:21 01:12:31]!FATAL  -P_ApiD       T:no name M:player_vtable.c F:VTABLE_GetElement L:845 > Leak detected in ref for VTable 25 (ref count 255) 
LOGlastrun_part:[2016:06:21 01:12:31]!ERROR  -P_ApiD       T:PLAYER_MAIN M:player_vtable.c F:VTABLE_ReleaseElement L:903 > GETELEMENT VTable 25 failed to found handle 1 


<3>
// first
1350701:!FATAL  -P_ApiD       		< p:0x00000246 P:APP t:0x2def2520 T:no name M:player_vtable.c F:VTABLE_GetElement L:845 > Leak detected in ref for VTable 25 (ref count 255) 

// last
1350851:!ERROR  -P_ApiD       		< p:0x00000246 P:APP t:0x2df0b520 T:no name M:player_vtable.c F:VTABLE_ReleaseElement L:903 > GETELEMENT VTable 25 failed to found handle 1 


1378005:!ERROR  -P_Api        		< p:0x00000246 P:APP t:0x2df0b520 T:no name M:player_api_session.c F:PLAYER_PRV_Session_Play L:6142 > Failed to get session structure 
1378006:!ERROR  -J_PLAYER     		< p:0x00000246 P:APP t:0x2df0b520 T:no name M:modules/jpa-impl/src/c/src/natPlayerSessionImpl. F:Java_com_nds_fusion_playerimpl_PlayerSessionImpl_natPlayerApiSes L:302 > PLAYER_API_Session_Play live failed: (0x6821001)
1378007:!ERROR  -EPG_ME       		< p:0x00000246 P:APP t:0x2df0b520 T:no name M:MediaEngine F:dealWithMWError L:4031 > T:PooledExecutor#1:Play service failed anh@594275a


<from-run-with-dump>
1. 02
http://theyard.cisco.com/si_logs/translation/darwin_783e53042058_a24511f64b0fba05ed1087b818f1895a/index.html

2. 03
http://theyard.cisco.com/si_logs/translation/darwin_0019fb38e30a_5798cc883511d82578025835cc9a2cf0/index.html
No leak message.


PLAYER_VTABLE_FindElement(const PLAYER_VTable_t* vtable, PLAYER_VTABLE_CheckElementFunc check, void *data, void **el, uint32_t *handle)
{
  if (SYSTEM_STATUS_IS_OK (SYSTEMUTIL_THR_MutexLock(vtable->mutex)))
  {
    isMutexLocked = true;

    /* Double check that VTABLE hasnt been terminated */
    if (IS_VTABLE_INIT(vtable))
    {
      curNode = GetNextNode(vtable, curNode);

      while ((curNode != NULL) && (stopVtableTraverse != true))           ----------------------
      {
        curNode->refCount++;

        (void) SYSTEMUTIL_THR_MutexUnlock(vtable->mutex);                     // }}
          isMutexLocked = false;

        // if found a node, then set flag which causes to exit a loop

        if (check(curNode->elPointer, data))
        {
          *el = curNode->elPointer;
          *handle = curNode->handle;

          retVal = VTABLE_STATUS_SUCCESS;
          stopVtableTraverse = true;
        }

        // if not found, move to a next node
        else
        {
          if (SYSTEM_STATUS_IS_OK (SYSTEMUTIL_THR_MutexLock(vtable->mutex)))  // {{
          {
            isMutexLocked = true;

            /* Double check that VTABLE hasnt been terminated */
            if (IS_VTABLE_INIT(vtable))
            {
              nextNode = GetNextNode(vtable, curNode);

              if (--(curNode->refCount) <= 0U)
              {
                (void) DelNode((PLAYER_VTable_t*)vtable, curNode);
              }

              curNode = nextNode;
            }
          }
        } // if

      } // while
    }
  }

  return;
}


<from-tr-with-log>
https://www.stb.bskyb.com/jira/browse/SI-10723

// shows del node
2020051:NDS: !FATAL  -P_ApiD           < P:APP t:0x2bfeb520 T:no name M:player_vtable.c F:VTABLE_GetElement L:875 > Leak detected in ref for VTable 25 (ref count 255)

2020052:NDS: !WARN   -P_ApiD       		< P:APP t:0x2bfeb520 T:no name M:player_vtable.c F:VTABLE_GetElement L:888 > KIT-GET contexts: 25 node-0x1 {255, 0xff} file player_api_context.c L:1469 
2020057:NDS: !WARN   -P_ApiD       		< P:APP t:0x2df24520 T:no name M:player_vtable.c F:VTABLE_GetElement L:888 > KIT-GET contexts: 25 node-0x1 {0, 0x0} file player_api_context.c L:1469 
2020059:NDS: !WARN   -P_ApiD       		< P:APP t:0x01247520 T:VRM_CLNT M:player_vtable.c F:VTABLE_FindElement L:1255 > KIT-FIND VTable NTS: 25 node-0x1 {1, 0x1} file player_api_context.c L:1385 
2020060:NDS: !WARN   -P_ApiD       		< P:APP t:0x01247520 T:VRM_CLNT M:player_vtable.c F:VTABLE_ReleaseElement L:942 > KIT-Rel-DelNode: 25 node-0x1 {0, 0x0} file player_pin.c L:1144 
2020063:NDS: !WARN   -P_ApiD       		< P:APP t:0x01247520 T:VRM_CLNT M:player_vtable.c F:VTABLE_ReleaseElement L:959 > KIT-REL contexts: 25 node-0x1 {0, 0x0} file player_pin.c L:1144 

2020286:NDS: !ERROR  -P_Api            < P:APP t:0x2bfeb520 T:no name M:player_api_avcontrol.c F:PLAYER_API_AVControl_UpdateDisplay L:5003 > Failed to ge
t session structure


@3237
/******************************************************************************
* PLAYER_IdentifyScAndJob
******************************************************************************/
static bool PLAYER_IdentifyScAndJob(uint32_t                      payload_id,
                                         PLAYER_PAYLOAD              *payload,
                                         PLAYER_SERVICE_CONTEXT_DATA **sc_data,
                                         PLAYER_JOB_DATA             **job)
{
  bool l_status = false;
  uint32_t l_guide_request_id = 0U;
  PLAYER_SERVICE_CONTEXT_DATA *l_sc_data = NULL;

    /* Identify job type job etc. */
    switch ((payload)->event)
    {
    case PLAYER_EVT_VRM_SUBSTITUTION:
        if(!SYSTEM_STATUS_IS_OK(PLAYER_Context_GetJobContextInfo((void*) payload->data.vrm_sub.job_handle,
                                                                 PLAYER_Context_IsContextVRMJob,
                                                                 &l_sc_data,
                                                                 job)))
        {
            PLAYER_DIAG_LOG_ERROR(("Failed to get the context info"));
        }
        else
        {
            *sc_data = l_sc_data;
            l_status = true;
        }
        break;
    }

    // Q: right?

    /* The caller needs to release the context handle in the success case */
    if ((false == l_status) && (l_sc_data != NULL))
    {
        (void)PLAYER_VTABLE_ReleaseElement(&(g_player_component.contexts), l_sc_data->sc_id);
    }
}


Get used and released at:

DARWIN_PLATFORM/DARWIN_PLAYER/src/player_common.c

                        /* 1. Get the session related to this event &
                         * determine job type & slot */
                        if (!PLAYER_IdentifyScAndJob(l_payload,
                              l_payload_struct, &l_sc_data, &l_job))


<update-from-ian>

SYSTEM_STATUS PLAYER_API_Session_SetPosition()
{
  // calls GET
  /* Extract the player context data */
  if (PLAYER_API_STATUS_OK != PLAYER_Context_GetContextFromSession(sessionId, &l_sc_data))
  {
    PLAYER_DIAG_LOG_ERROR(("Could not unravel context structure"));
  }
  else
  {
    if(!SYSTEM_STATUS_IS_OK(PLAYER_PRV_GetStreamPosition(&l_sc_data->active_job, MSM_REF_POINT_VSTART, MSM_UNIT_V_OFFSET,
            &current_play_position)))
    {
      PLAYER_DIAG_LOG_ERROR(("Failed to retrieve current position. Aborting SetPosition request"));

      // no REL when fails
    
      l_status = PLAYER_API_STATUS_FAILURE;
    }
    else
    {
      /* Release context data */
      (void)PLAYER_VTABLE_ReleaseElement(&(g_player_component.contexts), l_sc_data->sc_id);
    }
  }

  return l_status;
}


={============================================================================
|kt_dev_si_0002| SI-10688 Failed recording due to insufficient disc space (disc space auto)

https://www.stb.bskyb.com/jira/browse/SI-10688

From Chilworth...  We have been getting several cases of failed or part
recordings due to a lack of disk space. All of these incidents happen when
trying to record a program that the STB is `already tuned to` For example one
group of STBs are programmed to switch to channel 501 at 00.25. At 00.45 an
attempt to record via the record button on the RCU can result in a failed
recording and the reason given is insufficient disk space.


kyoupark@kit-debian:~/bld_si_logs/SI-10688-insufficient-disc-space$ ag "TriggerWarning|FailAssign" *.nds

// full
LOGlastrun_realtime.01.nds
287763:287875:NDS: ^[2016:06:29 23:45:14]0946739382.290603 !MIL    -RMF                         < p:0x000003a8 P:MW t:0x01cb6520 T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type FailAssign on 0x20107b0(0)[R]
292048:292159:NDS: ^[2016:06:30 00:19:28]0946741436.162322 !MIL    -RMF                         < p:0x000003a8 P:MW t:0x01afc520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x20107af(0)[Rb]
293656:293767:NDS: ^[2016:06:30 00:30:08]0946742076.425659 !MIL    -RMF                         < p:0x000003a8 P:MW t:0x01afc520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x20107af(0)[Rb]

// part
LOGlastrun_realtime.02.nds
167665:  167656:NDS: ^[2016:06:29 18:45:53]0946721267.324045 !MIL    -RMF                       < p:0x0000038c P:MW t:0x01afc520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010733(0)[Rb]
214290:214281:NDS: ^[2016:06:29 20:33:15]0946727709.315208 !MIL    -RMF                         < p:0x0000038c P:MW t:0x01afc520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010790(0)[Rb]

// full
LOGlastrun_realtime.03.nds
110410:110410:NDS: ^[2016:06:29 16:56:14]0946714778.264211 !MIL    -RMF                         < p:0x000003a7 P:MW t:0x01cb7520 T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type FailAssign on 0x20106e4(0)[Rb]
259601:259601:NDS: ^[2016:06:29 23:45:14]0946739318.289073 !MIL    -RMF                         < p:0x000003a7 P:MW t:0x01cb7520 T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type FailAssign on 0x2010796(0)[R]
260469:260469:NDS: ^[2016:06:29 23:49:58]0946739602.169578 !MIL    -RMF                         < p:0x000003a7 P:MW t:0x01afb520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010795(0)[Rb]
261957:261957:NDS: ^[2016:06:30 00:00:08]0946740212.289596 !MIL    -RMF                         < p:0x000003a7 P:MW t:0x01afb520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010795(0)[Rb]
264035:264035:NDS: ^[2016:06:30 00:14:18]0946741062.470086 !MIL    -RMF                         < p:0x000003a7 P:MW t:0x01afb520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010795(0)[Rb]
265266:265266:NDS: ^[2016:06:30 00:22:18]0946741542.533427 !MIL    -RMF                         < p:0x000003a7 P:MW t:0x01afb520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010795(0)[Rb]

// part
LOGlastrun_realtime.04.nds
214113:214113:NDS: ^[2016:06:29 20:22:57]0946727171.619891 !MIL    -RMF                         < p:0x0000038c P:MW t:0x01afc520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x201073c(0)[Rb]


<1>
http://theyard.cisco.com/cgi-bin/Generate_WOMBAT.sh?MAC=0019fb2c55e9
http://theyard.cisco.com/si_logs/translation/darwin_0019fb2c55e9_9c6d9f359e3c4d9788f0f3493b897066/index.html

Zone2 - Box36	Recording Review	Failed Recording INSUFFICIENT_DISK_SPACE (
    Not enough disk space to record event. )		11 July 2016
10/07/2016	01.00 am	Sky News HD - 501 - Sky News On The Hour
01/06/2011	Group 2	4F3107	362940577	540 448 750	

R014.083.60.00C
R014.083.60.00C - 02/11/2012	

Hub 1	00:19:fb:2c:55:e9

1867		11/07/2016
Failed Recording INSUFFICIENT_DISK_SPACE ( Not enough disk space to record
    event. ) - Sky News HD - 501 - Sky News On The Hour - 01.00 am	7-2016		

//
// NDS: ^[2016:06:29 23:32:16]
285634:!MIL    -EPG_ME           < T:no name M:MediaEngine F:playService L:1485 > T:PooledExecutor#2:TUNING TO Sky News HD, 501 locator:5:3:FD2
285722:!MIL    -VRM_SERVER   		< T:VRM_SRV M:job_man_srv.c F:JobManSrvStart L:4947 > VRM_JOB_START: jtVRM=jb-live, jhVRM=0x300009a 

286231:!MIL    -VRM_SERVER   		< T:VRM_SRV M:job_man_srv.c F:JobManSrvStart L:4947 > VRM_JOB_START: jtVRM=jb-rbrec, jhVRM=0x300009b 
286237:!MIL    -VRM_SERVER   		< T:VRM_SRV M:basic_rec.c F:RecordActiveInitialize L:6264 > Initiaizing Record FSM: rec_handle:0xb9001e, item_ID:0x2c0934bc 

286399:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > `job=0x20107af(0)[Rb]` request=0x10000008 released=0xf0000000 change request if fails. 

// NDS: ^[2016:06:29 23:45:08]
287672:!MIL    -aem              < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403

// from SBM, create rbrec from rb 
// `rmf job 0x20107b0` to `job_man:0x2000082` 
287702:!MIL    -VRM_SERVER   		< T:SBM_UB_MAIN M:fsm.c F:FSMRun L:921 > VRM-FSM: `job_man:0x2000082`: E_JOB_MAN_SRV_INT_ST_CREATING -> (E_JOB_MAN_SRV_INP_CREATED) -> E_JOB_MAN_SRV_INT_ST_CREATED 
287703:!MIL    -RMF          		< T:RMF_Server M:shrec_group_manager.c F:isSharingInActiveJob L:677 > shared active `RB 0x20107af`, shrec locator 0x2e01808f 
287704:!MIL    -RMF          		< T:RMF_Server M:shrec_group_manager.c F:RMP_SHREC_GROUP_MANAGER_FindShrecSharing L:1004 > Shared shrec locator 0x2e01808f, job `0x20107b0(0)[R]` final shrec quota instance: 0x10000 

287711:!WARN   -RMF          		< T:RMF_Server M:mc_booking_conflict.c F:BuildConflict L:2686 > Building conflict for `0x20107b0(0)[R]` 

287840:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x20107b0(0)[R] request=0x10000008 released=0xf0000000 change request if fails. 
287860:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x20107b0(0)[R] request=0x10000008 released=0xf0000000 change request if fails. 

// `S79696` 
// 287863:NDS: ^[2016:06:29 23:45:13]
287863:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:0xbc001d,0x290934c2: E_RECORD_INT_STATE_ALLOCATING_DISK -> (E_RECORD_INPUT_DISK_ALLOCATED) -> E_RECORD_INT_STATE_DISK_ALLOCATED 
287864:!WARN   -MSM_MDI      		< T:VRM_SRV M:meta_mfs.c F:(MetaMfsGetCurrentRecordPosition) L:978 > Milestone : MetaMfsGetCurrentRecordPosition: bNeedAccuracy=true dir (/mnt/nds/dev_4/part_0/S79696) return time 0_000baf03 and" " packet 0_004edfe6 

287874:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x20107b0(0)[R] request=0x10001008 released=0xf0000000 change request if fails. 
287875:!MIL    -RMF          		< T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type `FailAssign` on 0x20107b0(0)[R] 

287878:!WARN   -RMF          		< T:VRM_SRV M:rmp.c F:RMP_GetJobHandleByPcatObjId L:2528 > PCAT_VIEW_OBJECT_ID ID 0x2908f97d not in hash 
287879:!ERROR  -RMF          		< T:VRM_SRV M:rmf_job.c F:RMF_JOB_SRV_GetJobByHandle L:969 > **** RMF_ET in rmf_job.c 969\n 
287880:!WARN   -RMF          		< T:VRM_SRV M:quota_immediate_conflict.c F:PrepareDeletionCandidates L:3513 > The job handle 0x0 in the PCAT vlist is not valid anymore, so skip it. 
...

// rmf_job_handle 0x2010094 and rmf_job_instance 0x20107b0(0)[R] which is vrm_job
288202:!MIL    -RMF          		< T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Resolve L:2233 > Adding job 0x2010094 to Auto resolution 
288203:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_SRV_CommitResolution L:2756 > Instruction job=0x2010094 toRelease=0x10000004 
288204:!MIL    -RMF          		< T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x20107b0(0)[R] UI NOT  required 

// RMF_ALLOCATE_PERMISSION_RECORD  (0x10000008U) /*!< @brief Recording to disk */	
// RMF_ALLOCATE_PERMISSION_EXTEND  (0x10001000U) /*!< @brief Extend quota storage  */	
288206:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=`0x20107b0(0)[R]` request=0x10000008 released=0x10001000 change request if fails. 

288216:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: job_man:0x2000082: E_JOB_MAN_SRV_INT_ST_STARTING -> (E_JOB_MAN_SRV_INP_STARTED) -> E_JOB_MAN_SRV_INT_ST_STARTED 

289527:!MIL    -VRM_SERVER   		< T:VRM_SRV M:record_state.c F:RecordStateCalculateBySkevt L:1593 > timeline: itemId: `0x290934c2`, 
  curr: [2016:06:30 00:00:00]1467244800; PT:[2016:06:29 23:27:00]1467242820, 
  SGT:[2016:06:29 23:28:00]1467242880, SREX:[2016:06:29 23:30:00]1467243000, BODY:[2016:06:29 23:30:00]1467243000, EREX: [2016:06:30 00:00:00]1467244800, 
  EGT:[2016:06:30 00:00:00]1467244800, 
  ENDED:[2016:06:30 00:02:00]1467244920 

289528:!MIL    -VRM_SERVER   		< T:VRM_SRV M:record_state.c F:RecordStateCalculateBySkevt L:1604 > RecordState for itemId 0x290934c2 (by SKEVT): 
  RECORD_STATE_EGT 

289999:!MIL    -VRM_SERVER   		< T:VRM_SRV M:record_state.c F:RecordStateCalculateBySkevt L:1604 > RecordState for itemId 0x290934c2 (by SKEVT): 
  RECORD_STATE_PAST_EGT 

// 290004:NDS: ^[2016:06:30 00:01:59]
//
290012:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: `rec:0xbc001d,0x290934c2`: E_RECORD_INT_STATE_WAIT_PLE_SESSION_DESTROY -> (E_RECORD_INPUT_VRM_PLE_SESSION_DESTROYED) -> E_RECORD_INT_STATE_WAIT_DESTROY 
290016:!MIL    -VRM_SERVER   		< p:0x000003a8 P:MW t:0x01cb6520 T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:0xbc001d,0x290934c2: E_RECORD_INT_STATE_WAIT_DESTROY -> (E_RECORD_INPUT_FREE_FSM) -> E_RECORD_INT_STATE_NONE 


NDS: ^[2016:07:15 14:01:57]0946689684.194602 !INFO  -PLANNER      < p:000000ec t:01184520 T:PLANNER_MAIN M:planner_dbinterface.c F:PLANNER_DBINTERFACE_PRV_MapPCATPropertyToPlanner L:12203 > PCAT_CAT_PROP_RECORD_STATE is not mapped to Planner, as the EPG does not need it
NDS: ^[2016:07:15 14:01:57]0946689684.194797 !INFO  -PLANNER      < p:000000ec t:01184520 T:PLANNER_MAIN M:planner_dbinterface.c F:PLANNER_DBINTERFACE_PRV_ProcessMetadataUpdateListenerNotifications L:03685 > Updated 0 Planner properties from 1 PCAT properties
NDS: ^[2016:07:15 14:01:57]0946689684.194910 !INFO  -PLANNER      < p:000000ec t:01184520 T:PLANNER_MAIN M:planner_dbinterface.c F:PLANNER_DBINTERFACE_PRV_ProcessMetadataUpdateListenerNotifications L:03706 > No metadata update notification required


itemId: `0x290934c2` to `688469186`

3: VIEWER_BOOKED_TOO_LATE

Vued|Type|Start Time         |End Time           |Event Name                              |Loc  |Chan#|Err|Channel Name        |Series|SizeG|Expiry  |SLStat|#Rem|BookJobId
====|====|===================|===================|========================================|=====|=====|===|====================|======|=====|========|======|====|=========
Recd|Rec |2016:06:29 23:32:29|2016:06:30 00:01:59|Press Preview                           |s79696|  501|  3|Sky News HD         | 62250| 2.05|        |UNDF  |    |688469186
Recd|Rec |2016:06:29 23:58:00|2016:06:30 00:31:59|Sky News On The Hour                    |s79696|  501|100|Sky News HD         |     0| 2.27|        |UNDF  |    |688469201


SPACE USED (Gb): USER :167.24 PVOD :186.79 SLINK:51.62 DYNAM:24.19 
Disk usage in quota "NDS_Dynamic": 24.19 Gb
Disk usage in quota "user": 218.86 Gb

booking-job
"688469186"
"554251458"	"1"	
"5"   // PCAT_CAT_RECORD_STATUS_ENDED     (5),  // The program is ended
"7"   // PCAT_CAT_RECORD_STATE_PAST_EGT   (7),  // The recording is in past end guard time state
"6"	"0"	"1"		"0"	"1467243909"	"0"	"1467242820"	"0"	"0"		"0"	"0"	"0"	"1"	"0"	"0"	"0"	"0"	"0"	"0"	"0"	"1"	"0"			"0"	"X'6369BF0814305E73E675B473EDCB68B51D0C817D'"	"0"		"0"	"0"	"0"	"0"	"0"	"0"				"0"		"0"		"0"	"0"	"0"		

booking-info
"554251458"	
"2"   // PCAT_CAT_BOOKING_TYPE_RECORD     (2),  // The booking type is Record
"2"
"571028670"	"1"	"1"	"120000"	"120000"	"0"	"0"	"621360324"	"0"	"2"	"0"	"0"	
"3"   // BOOKING_EXCEPTION
"2"   // PCAT_CAT_CONTENT_STATUS_PARTIAL,
"0"	"050005ffa4197573657200"	"0"	"0"	"0"	"0"	"0"		"1"	"0"	"0"	"0"	"0"		"0"	"1"		"1"	"0"							"0"	"0"	"0"

// means booking failed?

288244:NDS: ^[2016:06:29 23:45:22]0946739390.245158 !ERROR  -SBMS_USERBOOKING		< p:0x000003a8 P:MW t:0x01fe4520 
T:SBM_UB_MAIN M:sbm_server_ub_common.c F:SBMUserBookingThread L:1389 > Failed in running callback message function [event_id 3] [event_name SBM_USERBOOKING_EV_VIEW_CHANGE_NOTIFICATION] 

SBMUserBookingThread(void *data)

                    else
                    {
                        /* Calling the right callback */
                        l_status = CALL_HANDLER(f_sbm_userbooking_events[l_event].event_function, l_payload_handle);

                        if((SBM_USERBOOKING_STATUS_NOT_OK == l_status) ||
                                (SBM_USERBOOKING_STATUS_INVALID_PARAM == l_status))
                        {
                            DIAG_LOG_ERROR(g_sbm_userbooking_diag_segment_id,
                                    ("Failed in running callback message function [event_id %u] [event_name %s]", l_event, f_sbm_userbooking_events[l_event].event_name));
                        }
                    }


	private void handleStopEvent(PlayerEventRBStop stopEvent)
	{
		try
		{
			int exceptionCode = stopEvent.getException();
			/* LOGGER.logInfo("Received StopEvent with exception code " + exceptionCode); */

			/* At the moment, the only kind of exception we think we have to deal with
			 * is INSUFFICIENT_DISK_SPACE, so we don't even model the rest.  
			 */
			switch (exceptionCode)
			{
				case PlannerBookingFailureType.INSUFFICIENT_DISK_SPACE:
					reviewBufferStateListener.notifyInsufficientDiskSpaceStop();
					break;
				case PlannerBookingFailureType.NO_TUNER_AVAILABLE:
					// this happens when we tune to a new channel.
					reviewBufferStateListener.notifyChannelChanged();
					break;
				default:
					LOGGER.logWarn("Got a PlayerEventRBStop we don't know how to handle: " + exceptionCode);
					break;

			}
		}
		catch (PlayerDataUnavailableException e)
		{
			LOGGER.logError("failed to get exception code from event", e);
		}
	}


<2> `part` fail.
http://theyard.cisco.com/cgi-bin/Generate_WOMBAT.sh?MAC=0019fb2d3660
http://theyard.cisco.com/si_logs/translation/darwin_20fb2d3660_e1a3726db88bc9ca9e363413ec97ecdd/index.html

Zone6 - Box36	Recording Review	Part Recorded INSUFFICIENT_DISK_SPACE ( Not
    enough disk space to record event. ) 		11 July 2016			09/07/2016
3.00 pm	Sky News HD - 501 - Sky News	00:26:57			01/06/2011	Group 4
4F3107	362998040	512 622 903	

R014.083.60.00C	R014.083.60.00C -
02/11/2012	

Hub 1	00:19:fb:2d:36:60	1867		

11/07/2016	Part Recorded
INSUFFICIENT_DISK_SPACE ( Not enough disk space to record event. )  - Sky News
HD - 501 - Sky News - 3.00 pm	7-2016		

157999:NDS: ^[2016:06:29 18:00:03]0946718517.006556 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403
182574:NDS: ^[2016:06:29 19:20:41]0946723355.021041 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403
192076:NDS: ^[2016:06:29 19:31:14]0946723988.335203 !MIL    -EPG_ME                     < T:no name M:MediaEngine F:playService L:1485 > T:PooledExecutor#4:TUNING TO Sky News HD, 501 locator:5:3:FD2

// hMC=0x6e which is a record
134978:NDS: ^[2016:06:29 16:50:09]
       !MIL    -MCM          		< T:VRM_SRV M:mcm_mediaconn.c F:MCM_MEDIACONN_CreateEx L:275 > @@PMON@@,trace,mediacon,mc-create,110,mc-create-mcid=,110,mc_create-str=,mc-record,fsnfmt=,hMC=0x6e 

// live
146692:!MIL    -EPG_ME                     < T:no name M:MediaEngine F:playService L:1485 > T:PooledExecutor#4:TUNING TO Sky News, 516 locator:5:3:57C
146743:!MIL    -VRM_SERVER   		< T:VRM_SRV M:job_man_srv.c F:JobManSrvStart L:4947 > VRM_JOB_START: jtVRM=jb-live, jhVRM=0x3000037 

// live-job-type
146746:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x201072f(0)[L] request=0x10000020 released=0xf0000000 change request if fails. 

// how to interpret?
146918:NDS: ^[2016:06:29 17:06:38]0946715312.880771 !MIL    -RMF          		< p:0x0000038c P:MW t:0x01ca7520 T:VRM_SRV M:rmp_callbacks.c F:RMP_DumpCurrentJobs L:433 > L<1404>M | R<4098>B |  

146951:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x201072d(0)[Rb] request=0x10000004 released=0x1000000b change request if fails. 

// rb *rmf-job-vs-vrm-job*
147345:!MIL    -VRM_SERVER   		< T:VRM_SRV M:job_man_srv.c F:JobManSrvStart L:4947 > VRM_JOB_START: jtVRM=jb-rbrec, jhVRM=0x3000038       *vrm-job*
147349:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_GetShrecSharingInfo L:1106 > `job=0x2010730` - shrecLocator=0x0  *rmf-job*
147350:!MIL    -VRM_SERVER   		< T:VRM_SRV M:basic_rec.c F:RecordActiveInitialize L:6264 > Initiaizing Record FSM: `rec_handle:0x7f001e, item_ID:0x2c08fc42` 

147353:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x2010730(0)[Rb] request=0x10000008 released=0xf0000000 change request if fails. 
147354:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1022 > result=1 " " status: OK[0x07802000] 
147355:!MIL    -RMF          		< T:VRM_SRV M:rmp_callbacks.c F:RMP_DumpCurrentJobs L:433 > L<1404>M | R<4098>B | Rb<1404> |  

// `Job 0x2010733(0)[Rb]` to `rec_handle:0x80001e, item_ID:0x2c08fc47`

// 151464:NDS: ^[2016:06:29 17:30:08]
151464:!MIL    -EPG_ME       		< T:no name M:MediaEngine F:playService L:1485 > T:PooledExecutor#0:TUNING TO BBC One South, 101 locator:5:3:869

// 151543:NDS: ^[2016:06:29 17:30:09]
151543:!MIL    -VRM_SERVER   		< T:VRM_SRV M:job_man_srv.c F:JobManSrvStart L:4947 > VRM_JOB_START: jtVRM=jb-live, jhVRM=0x3000039 
152003:!MIL    -EPG_ME       		< T:no name M:MediaEngine F:channelChanged L:2027 > T:PooledExecutor#3:CHANNEL CHANGED TO BBC One South, 101

// *RBREC* 152156:NDS: ^[2016:06:29 17:30:19]
152156:!MIL    -VRM_SERVER   		< T:VRM_SRV M:job_man_srv.c F:JobManSrvStart L:4947 > VRM_JOB_START: jtVRM=jb-rbrec, jhVRM=0x300003a 
152157:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: `RB Record` h:0xd: E_RB_RECORD_STATE_COMMITTED -> (E_RB_RECORD_INPUT_START) -> E_RB_RECORD_STATE_STARTING 
152160:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_GetShrecSharingInfo L:1106 > `job=0x2010733` - shrecLocator=0x0 
152161:!MIL    -VRM_SERVER   		< T:VRM_SRV M:basic_rec.c F:RecordActiveInitialize L:6264 > `Initiaizing Record FSM: rec_handle:0x80001e, item_ID:0x2c08fc47`
152162:!MIL    -VRM_SERVER   		< M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:0x80001e,0x2c08fc47: E_RECORD_INT_STATE_NONE -> (E_RECORD_INPUT_START) -> E_RECORD_INT_STATE_STARTING 

// <rb> try to get permission 
152164:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x2010733(0)[Rb] request=0x10000008 released=0xf0000000 change request if fails. 
152328:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x2010733(0)[Rb] request=0x10000008 released=0xf0000000 change request if fails. 

158026:NDS: !MIL    -aem         < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403

158054:!MIL    -VRM_SERVER   		< T:SBM_UB_MAIN M:fsm.c F:FSMRun L:921 > VRM-FSM: job_man:0x2000052: E_JOB_MAN_SRV_INT_ST_NULL -> (E_JOB_MAN_SRV_INP_RUN) -> E_JOB_MAN_SRV_INT_ST_CREATING 
158055:!MIL    -VRM_SERVER   		< T:SBM_UB_MAIN M:fsm.c F:FSMRun L:921 > VRM-FSM: job_man:0x2000052: E_JOB_MAN_SRV_INT_ST_CREATING -> (E_JOB_MAN_SRV_INP_CREATED) -> E_JOB_MAN_SRV_INT_ST_CREATED 
158056:!MIL    -RMF          		< T:RMF_Server M:shrec_group_manager.c F:isSharingInActiveJob L:677 > shared active RB `0x2010733`, shrec locator 0x74020014 
158057:!MIL    -RMF          		< T:RMF_Server M:shrec_group_manager.c F:RMP_SHREC_GROUP_MANAGER_FindShrecSharing L:1004 > Shared shrec locator 0x74020014, job `0x2010735(0)[R]` final shrec quota instance: 0x10000 
158058:!MIL    -RMF          		< T:RMF_Server M:shrec_group_manager.c F:isSharingInActiveJob L:677 > shared active RB 0x2010733, shrec locator 0x74020014 

158082:!MIL    -PCATS        		< T:SBM_UB_MAIN M:pcat_view_clnt.c F:`PCAT_VIEW_CommitJob` L:3077 > client id = 0x5,bookingJobID = 0x2908fc4f 

// <record>
158086:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=`0x2010735(0)[R]` request=0x10000001 released=0xf0000000 change request if fails. 

158107:!MIL    -VRM_SERVER   		< T:SRM_HP_THREAD M:job_man_srv.c F:`JobManSrvStart` L:4947 > VRM_JOB_START: jtVRM=jb-record, jhVRM=0x2000052 
158108:!MIL    -VRM_SERVER   		< T:VRM_SRV M:basic_rec.c F:RecordActiveInitialize L:6264 > Initiaizing Record FSM: rec_handle:0x81001d, item_ID:0x2908fc4f 
158109:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:`0x81001d,0x2908fc4f`: E_RECORD_INT_STATE_NONE -> (E_RECORD_INPUT_START) -> E_RECORD_INT_STATE_STARTING 
158111:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x2010735(0)[R] request=0x10000008 released=0xf0000000 change request if fails. 

158112:!MIL    -RMF          		< T:VRM_SRV M:shrec_group_manager.c F:isSharingInActiveJob L:677 > shared active `RB 0x2010733`, shrec locator 0x74020014 
158113:!MIL    -RMF          		< T:VRM_SRV M:shrec_group_manager.c F:RMP_SHREC_GROUP_MANAGER_FindShrecSharing L:1004 > Shared shrec locator 0x74020014, `job 0x2010735(0)[R]` final shrec quota instance: 0x10000 
158114:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1022 > result=1 " " status: OK[0x07802000] 


158133:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:0x81001d,0x2908fc4f: E_RECORD_INT_STATE_ALLOCATING_DISK -> (E_RECORD_INPUT_DISK_ALLOCATED) -> E_RECORD_INT_STATE_DISK_ALLOCATED 
158136:!WARN   -MSM_MDI      		< T:VRM_SRV M:meta_mfs.c F:(MetaMfsGetCurrentRecordPosition) L:978 > Milestone : MetaMfsGetCurrentRecordPosition: bNeedAccuracy=true dir (/mnt/nds/dev_4/part_0/S69831) return time 0_001b4fb0 and" " packet 0_00456f18 

// <record> got permission from rmf 
158143:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x2010735(0)[R] request=0x10001008 released=0xf0000000 change request if fails. 
158147:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x2010735(0)[R] request=0x10000008 `released=0x10001000` change request if fails. 

158149:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:0x81001d,0x2908fc4f: E_RECORD_INT_STATE_DISK_ALLOCATED -> (E_RECORD_INPUT_WAIT_RUN) -> E_RECORD_INT_STATE_WAIT_RUN 
158150:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:0x81001d,0x2908fc4f: E_RECORD_INT_STATE_WAIT_RUN -> (E_RECORD_INPUT_MCONN_RUNNING) -> E_RECORD_INT_STATE_RUNNING 

// first error of two
167656:!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010733(0)[Rb] 
167890:!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Resolve L:2233 > Adding job 0x201019d to Auto resolution 
167891:!MIL    -RMF          		< T:RMF_Server M:rmf_allocate.c F:RMF_ALLOCATE_SRV_CommitResolution L:2756 > Instruction job=0x201019d toRelease=0x10000004 
167892:!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x2010733(0)[Rb] UI NOT  required 
167895:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x201019d(0)[R] request=0xf0000000 released=0x10000004 change request if fails. 
167896:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1022 > result=1 " " status: OK[0x07802000] 

// ? relavant?
167907:NDS: ^[2016:06:29 18:45:58]0946721272.958682 !MIL    -VRM_SERVER   		< p:0x0000038c P:MW t:0x01ca7520 T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: job_man:0x100019b: E_JOB_MAN_SRV_INT_ST_STOPPED -> (E_JOB_MAN_SRV_INP_FAILED) -> E_JOB_MAN_SRV_INT_ST_FAILED 
167908:NDS: ^[2016:06:29 18:45:58]0946721272.959429 !MIL    -VRM_SERVER   		< p:0x0000038c P:MW t:0x01ca7520 T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: job_man:0x100019b: E_JOB_MAN_SRV_INT_ST_FAILED -> (E_JOB_MAN_SRV_INP_DESTROY_CALLED) -> E_JOB_MAN_SRV_INT_ST_DESTROYING 

// channel change so stop rb after this
169295:!MIL    -EPG_ME       		< T:no name M:MediaEngine F:playService L:1485 > T:PooledExecutor#0:TUNING TO BBC Two HD, 102 locator:5:3:81B

169481:!WARN   -MSM_MDI      		< T:VRM_SRV M:meta_mfs.c F:(MetaMfsGetCurrentRecordPosition) L:978 > Milestone : MetaMfsGetCurrentRecordPosition: bNeedAccuracy=true dir (/mnt/nds/dev_4/part_0/S69831) return time 0_004da69c and" " packet 0_00bc3461 
169487:!MIL    -VRM_SERVER   		< T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:0x80001e,0x2c08fc47: E_RECORD_INT_STATE_WAIT_PLE_SESSION_DESTROY -> (E_RECORD_INPUT_VRM_PLE_SESSION_DESTROYED) -> E_RECORD_INT_STATE_WAIT_DESTROY 

// <rb> got permission
169488:!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x2010733(0)[Rb] request=0x10000004 released=0x1000000b change request if fails. 

// ^[2016:06:29 19:01:59]
179499:!MIL    -VRM_SERVER   		< T:VRM_SRV M:record_state.c F:RecordStateCalculateBySkevt L:1593 > timeline: itemId: 0x2908fc4f, 
  curr: [2016:06:29 19:02:00]1467226920; PT:[2016:06:29 17:57:00]1467223020, SGT:[2016:06:29 17:58:00]1467223080, SREX:[2016:06:29 18:00:00]1467223200, 
  BODY:[2016:06:29 18:00:00]1467223200, EREX: [2016:06:29 19:00:00]1467226800, EGT:[2016:06:29 19:00:00]1467226800, 
  ENDED:[2016:06:29 19:02:00]1467226920 
179500:!MIL    -VRM_SERVER   		< T:VRM_SRV M:record_state.c F:RecordStateCalculateBySkevt L:1604 > RecordState for itemId 0x2908fc4f (by SKEVT): RECORD_STATE_PAST_EGT 

179504:NDS: ^[2016:06:29 19:01:59]0946722233.683449 !MIL    -VRM_SERVER   		< p:0x0000038c P:MW t:0x01ca7520 T:VRM_SRV M:fsm.c F:FSMRun L:921 > VRM-FSM: rec:0x81001d,0x2908fc4f: E_RECORD_INT_STATE_RUNNING -> (E_RECORD_INPUT_STOP) -> E_RECORD_INT_STATE_STOPPING 

<pcat>
100: NO_EXCEPTION

Recd|Rec |2016:06:29 17:58:00|2016:06:29 19:02:00|The One Show                            |s69831|  101|100|BBC One South       | 39117| 1.59|        |UNDF  |    |688454735

booking-job-id "688454735"	
"688454735"	"554237007"	"1"	
"5"   // PCAT_CAT_RECORD_STATUS_ENDED     (5)
"7"   // PCAT_CAT_RECORD_STATE_PAST_EGT   (7)

booking-info- "554237007"
"554237007"
"2"
"2"
"571014221"	"1"	"1"	"120000"	"120000"	"0"	"0"	"621345872"	"0"	"2"	"0"	"0"	

"100" // BOOKING_EXCEPTION
"3"   // PCAT_CAT_CONTENT_STATUS_ALL,


<3> 
http://theyard.cisco.com/cgi-bin/Generate_WOMBAT.sh?MAC=0019fb2c5608
http://theyard.cisco.com/si_logs/translation/darwin_0019fb2c5608_bb1d088bb4ecd9a780fe0dc3b67c5d8b/index.html

Zone3 - Box36	Recording Review	Failed Recording INSUFFICIENT_DISK_SPACE (
    Not enough disk space to record event. )		11 July 2016
09/07/2016	01.00 am	Sky News HD - 501 - Sky News On The Hour
01/06/2011	Group 2	4F3107	362940608	540 434 065	R014.083.60.00C

R014.083.60.00C - 02/11/2012	Hub 1	

0019fb2c5608

1867		11/07/2016
Failed Recording INSUFFICIENT_DISK_SPACE ( Not enough disk space to record
    event. ) - Sky News HD - 501 - Sky News On The Hour - 01.00 am	7-2016		


// seen only two
110410:NDS: ^[2016:06:29 16:56:14]0946714778.264211 !MIL    -RMF                        < p:0x000003a7 P:MW t:0x01cb7520 T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type FailAssign on 0x20106e4(0)[Rb]

257411:NDS: ^[2016:06:29 23:32:17]0946738541.932900 !MIL    -EPG_ME                     < p:0x000003a9 P:APP t:0x2df24520 T:no name M:MediaEngine F:playService L:1485 > T:PooledExecutor#2:TUNING TO Sky News HD, 501 locator:5:3:FD2
259453:NDS: ^[2016:06:29 23:45:04]0946739308.584548 !MIL    -aem                        < p:0x000003a9 P:APP t:0x013f8520 T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403
259478:NDS: ^[2016:06:29 23:45:08]0946739312.692325 !MIL    -aem                        < p:0x000003a9 P:APP t:0x013f8520 T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403

259562:NDS: ^[2016:06:29 23:45:13]0946739317.462589 !MIL    -VRM_SERVER   		< p:0x000003a7 P:MW t:0x01e3b520 T:SRM_HP_THREAD M:job_man_srv.c F:JobManSrvStart L:4947 > VRM_JOB_START: jtVRM=jb-record, jhVRM=0x2000083 
259564:NDS: ^[2016:06:29 23:45:13]0946739317.752128 !MIL    -VRM_SERVER   		< p:0x000003a7 P:MW t:0x01cb7520 T:VRM_SRV M:basic_rec.c F:RecordActiveInitialize L:6264 > Initiaizing Record FSM: rec_handle:0xbc001d, item_ID:0x2900d20c 
259590:NDS: ^[2016:06:29 23:45:14]0946739318.041373 !WARN   -MSM_MDI      		< p:0x000003a7 P:MW t:0x01cb7520 T:VRM_SRV M:meta_mfs.c F:(MetaMfsGetCurrentRecordPosition) L:978 > Milestone : MetaMfsGetCurrentRecordPosition: bNeedAccuracy=true dir (/mnt/nds/dev_4/part_0/S8304) return time 0_000ba9c2 and" " packet 0_004eb95e 

259601:NDS: ^[2016:06:29 23:45:14]0946739318.289073 !MIL    -RMF                        < p:0x000003a7 P:MW t:0x01cb7520 T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type FailAssign on 0x2010796(0)[R]


260469:NDS: ^[2016:06:29 23:49:58]0946739602.169578 !MIL    -RMF                        < p:0x000003a7 P:MW t:0x01afb520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010795(0)[Rb]
261957:NDS: ^[2016:06:30 00:00:08]0946740212.289596 !MIL    -RMF                        < p:0x000003a7 P:MW t:0x01afb520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010795(0)[Rb]
264035:NDS: ^[2016:06:30 00:14:18]0946741062.470086 !MIL    -RMF                        < p:0x000003a7 P:MW t:0x01afb520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010795(0)[Rb]
265266:NDS: ^[2016:06:30 00:22:18]0946741542.533427 !MIL    -RMF                        < p:0x000003a7 P:MW t:0x01afb520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010795(0)[Rb]

Recd|Rec |2016:06:29 23:32:30|2016:06:30 00:02:00|Press Preview                           |s8304|  501|  3|Sky News HD         | 62250| 2.05|        |UNDF  |    |687919628
Recd|Rec |2016:06:29 23:58:00|2016:06:30 00:31:59|Sky News On The Hour                    |s8304|  501|100|Sky News HD         |     0| 2.27|        |UNDF  |    |687919644


<4> part
http://theyard.cisco.com/cgi-bin/Generate_WOMBAT.sh?MAC=0019fb2d3850

Zone6 - Box35	Recording Review	Part Recorded INSUFFICIENT_DISK_SPACE ( Not
    enough disk space to record event. ) 		11 July 2016			10/07/2016
7.00 pm	BBC One South - 101 - MOTD Live: Portugal v France	00:14:29
01/06/2011	Group 4	4F3107	362998536	494 042 559	R014.083.60.00C
R014.083.60.00C - 02/11/2012	Hub 1	

0019fb2d3850	

1867		11/07/2016
Part Recorded INSUFFICIENT_DISK_SPACE ( Not enough disk space to record event.
    )  - BBC One South - 101 - MOTD Live: Portugal v France - 7.00 pm	7-2016		

158671:NDS: ^[2016:06:29 18:00:03]0946718597.405986 !MIL    -aem                        < p:0x0000038e P:APP t:0x013f8520 T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403
158697:NDS: ^[2016:06:29 18:00:06]0946718600.311274 !MIL    -aem                        < p:0x0000038e P:APP t:0x013f8520 T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403
183285:NDS: ^[2016:06:29 19:20:41]0946723435.608322 !MIL    -aem                        < p:0x0000038e P:APP t:0x013f8520 T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(RECORD)e403

152118:NDS: ^[2016:06:29 17:30:09]0946716803.252315 !MIL    -EPG_ME                     < p:0x0000038e P:APP t:0x2df24520 T:no name M:MediaEngine F:playService L:1485 > T:PooledExecutor#2:TUNING TO BBC One South, 101 locator:5:3:869

// once only
214113:NDS: ^[2016:06:29 20:22:57]0946727171.619891 !MIL    -RMF                        < p:0x0000038c P:MW t:0x01afc520 T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x201073c(0)[Rb]


<5>
From Glen
http://theyard.cisco.com/si_logs/translation/darwin_0019fbddef35_5d8159b8803db63b212a24fce70a241b/index.html

41094:NDS: ^[2016:07:14 14:05:50]0946697312.426396 !ERROR  -EPG_DEV1                    < T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
41095:NDS: ^[2016:07:14 14:05:50]0946697312.426659 !MIL    -EPG_MISC                    < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
48193:NDS: ^[2016:07:14 14:09:02]0946697504.732986 !MIL    -aem                         < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
48875:NDS: ^[2016:07:14 14:09:37]0946697539.646797 !MIL    -aem                         < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
52676:NDS: ^[2016:07:14 14:12:52]0946697734.959885 !MIL    -aem                         < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
71604:NDS: ^[2016:07:14 15:30:14]0946702376.937237 !MIL    -aem                         < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
77329:NDS: ^[2016:07:14 16:05:42]0946704504.628304 !MIL    -aem                         < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
593555:NDS: ^[2016:07:18 14:59:49]0947046151.718709 !ERROR  -EPG_DEV1                   < T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
593556:NDS: ^[2016:07:18 14:59:49]0947046151.718975 !MIL    -EPG_MISC                   < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
593576:NDS: ^[2016:07:18 14:59:50]0947046152.104067 !MIL    -EPG_MISC                   < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "KeyPressRemote","action": "REWIND","title": "Key Press REWIND","label": "","currentscreen": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
594132:NDS: ^[2016:07:18 15:00:44]0947046206.035336 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
594140:NDS: ^[2016:07:18 15:00:44]0947046206.047929 !ERROR  -EPG_DEV1                   < T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
594141:NDS: ^[2016:07:18 15:00:44]0947046206.048201 !MIL    -EPG_MISC                   < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
594207:NDS: ^[2016:07:18 15:02:01]0947046283.714655 !MIL    -EPG_MISC                   < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "KeyPressRemote","action": "TVGUIDE","title": "Key Press TVGUIDE","label": "","currentscreen": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
594759:NDS: ^[2016:07:18 15:02:47]0947046329.067151 !ERROR  -EPG_DEV1                   < T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
594760:NDS: ^[2016:07:18 15:02:47]0947046329.067391 !MIL    -EPG_MISC                   < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
594817:NDS: ^[2016:07:18 15:02:50]0947046332.253715 !ERROR  -EPG_DEV1                   < T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
594818:NDS: ^[2016:07:18 15:02:50]0947046332.253964 !MIL    -EPG_MISC                   < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
595565:NDS: ^[2016:07:18 15:11:36]0947046858.988660 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
595573:NDS: ^[2016:07:18 15:11:37]0947046859.003037 !ERROR  -EPG_DEV1                   < T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
595574:NDS: ^[2016:07:18 15:11:37]0947046859.003338 !MIL    -EPG_MISC                   < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
595935:NDS: ^[2016:07:18 15:11:53]0947046875.039072 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
595942:NDS: ^[2016:07:18 15:11:53]0947046875.052422 !ERROR  -EPG_DEV1                   < T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
595946:NDS: ^[2016:07:18 15:11:53]0947046875.143292 !MIL    -EPG_MISC                   < T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
599767:NDS: ^[2016:07:18 15:38:19]0947048461.108021 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
600446:NDS: ^[2016:07:18 15:38:27]0947048469.770698 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
602178:NDS: ^[2016:07:18 15:38:53]0947048495.650449 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
602997:NDS: ^[2016:07:18 15:39:02]0947048504.695352 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
604143:NDS: ^[2016:07:18 15:39:54]0947048556.917650 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401
605251:NDS: ^[2016:07:18 15:40:18]0947048580.154616 !MIL    -aem                        < T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401


// tune 01

 65143:^[2016:07:14 14:48:43]!MIL    -EPG_ME       		< T:no name M:MediaEngine F:playService L:1498 > T:PooledExecutor#4:TUNING TO Eurosport 1 HD, 410 locator:5:3:FA4

 70234:^[2016:07:14 15:15:30]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x2010256(0)[Rb] UI NOT  required 
 71604:^[2016:07:14 15:30:14]!MIL    -aem          		< T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401 
 77329:^[2016:07:14 16:05:42]!MIL    -aem          		< T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401 
208922:^[2016:07:15 15:23:32]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010271(0)[R] 
208950:^[2016:07:15 15:23:33]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x2010271(0)[R] UI NOT  required 
209463:^[2016:07:15 15:28:32]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010272(0)[R] 
209491:^[2016:07:15 15:28:33]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x2010272(0)[R] UI NOT  required 
327749:^[2016:07:16 14:48:43]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010285(0)[R] 
327777:^[2016:07:16 14:48:44]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x2010285(0)[R] UI NOT  required 
329001:^[2016:07:16 15:03:43]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x2010286(0)[R] 
329029:^[2016:07:16 15:03:44]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x2010286(0)[R] UI NOT  required 
441291:^[2016:07:17 12:42:44]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x201029b(0)[R] 
441319:^[2016:07:17 12:42:44]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x201029b(0)[R] UI NOT  required 
445309:^[2016:07:17 13:28:14]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x201029b(0)[R] 
445337:^[2016:07:17 13:28:14]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x201029b(0)[R] UI NOT  required 
446251:^[2016:07:17 13:40:34]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x201029b(0)[R] 
446279:^[2016:07:17 13:40:35]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x201029b(0)[R] UI NOT  required 
448462:^[2016:07:17 14:09:04]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x201029b(0)[R] 
448490:^[2016:07:17 14:09:05]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x201029b(0)[R] UI NOT  required 

// tune 02

564660:^[2016:07:18 10:59:04]!MIL    -EPG_ME       		< T:no name M:MediaEngine F:playService L:1498 > T:PooledExecutor#2:TUNING TO Eurosport 1 HD, 410 locator:5:3:FA4

// start rb
565347:^[2016:07:18 10:59:14]!MIL    -VRM_SERVER   		< T:VRM_SRV M:job_man_srv.c F:JobManSrvStart L:4947 > VRM_JOB_START: jtVRM=jb-rbrec, jhVRM=0x3000014 
565350:^[2016:07:18 10:59:15]!MIL    -RMF          		< T:VRM_SRV M:shrec_group_manager.c F:RMP_SHREC_GROUP_MANAGER_TriggerGetShrec L:381 > Job `0x20102c1`(0)[Rb] - shrec found: 0x0 

// did not get premissions
565355:^[2016:07:18 10:59:15]!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x20102c1(0)[Rb] request=0x10000008 released=0xf0000000 change request if fails. 
565503:^[2016:07:18 10:59:15]!MIL    -RMF          		< T:VRM_SRV M:rmf_allocate.c F:RMF_ALLOCATE_ControlPermissions L:1012 > job=0x20102c1(0)[Rb] request=0x10000008 released=0xf0000000 change request if fails. 

571468:^[2016:07:18 11:28:03]!MIL    -MDM          		< T:MCM_ITCMAIN_THREAD M:mdm_connection.c F:MDM_TunerStatusPrint L:3223 > mdm_handle =0x469 hMC=0x8e tuner_id =0 and job_type =LIVE_VIEWING 
571469:^[2016:07:18 11:28:03]!MIL    -MDM          		< T:MCM_ITCMAIN_THREAD M:mdm_connection.c F:MDM_TunerStatusPrint L:3223 > mdm_handle =0x46c hMC=0x8f tuner_id =0 and job_type =RECORD 
571470:^[2016:07:18 11:28:03]!MIL    -MDM          		< T:MCM_ITCMAIN_THREAD M:mdm_connection.c F:MDM_TunerStatusPrint L:3223 > mdm_handle =0x4db hMC=0x91 tuner_id =1 and job_type =RECORD 

577323:^[2016:07:18 12:13:02]!MIL    -RMF          		< T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:994 > Building conflict of type FailAssign on 0x20102c4(0)[R] 
577349:^[2016:07:18 12:13:02]!MIL    -RMF          		< T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Resolve L:2234 > Adding job 0x20101da to Auto resolution 
577351:^[2016:07:18 12:13:02]!MIL    -RMF          		< T:VRM_SRV M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x20102c4(0)[R] UI NOT  required 

// conflict on rb
580427:^[2016:07:18 12:34:55]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x20102c1(0)[Rb] 

// rb deleted
580453:^[2016:07:18 12:34:55]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Resolve L:2333 > Stopping subject 0x20102c1(0)[Rb] because there are no candidates 

580455:^[2016:07:18 12:34:55]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x20102c1(0)[Rb] UI NOT  required 
580946:^[2016:07:18 12:40:25]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x20102c4(0)[R] 
580972:^[2016:07:18 12:40:25]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Resolve L:2233 > Adding job 0x20101dc to Auto resolution 
580974:^[2016:07:18 12:40:25]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x20102c4(0)[R] UI NOT  required 
586603:^[2016:07:18 13:42:55]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:994 > Building conflict of type TriggerWarning on 0x20102c4(0)[R] 
586629:^[2016:07:18 13:42:56]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Resolve L:2233 > Adding job 0x20101e5 to Auto resolution 
586631:^[2016:07:18 13:42:56]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x20102c4(0)[R] UI NOT  required 
588826:^[2016:07:18 14:02:36]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:993 > Building conflict of type TriggerWarning on 0x20102c4(0)[R] 
588852:^[2016:07:18 14:02:36]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Resolve L:2233 > Adding job 0x20101e6 to Auto resolution 
588854:^[2016:07:18 14:02:36]!MIL    -RMF          		< T:RMF_Server M:quota_immediate_conflict.c F:QIC_Construct L:1027 > Conflict on 0x20102c4(0)[R] UI NOT  required 

599193:^[2016:07:18 15:38:13]!MIL    -VRM_SERVER   		< T:VRM_SRV M:job_man_srv.c F:VRM_JOB_SERVER_Destroy L:1601 > @@PMON@@,mark,job,job-destroy,50331668,job-destroy-type=,jb-rbrec 

593555:^[2016:07:18 14:59:49]!ERROR  -EPG_DEV1     		< T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
593556:^[2016:07:18 14:59:49]!MIL    -EPG_MISC     		< T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
593576:^[2016:07:18 14:59:50]!MIL    -EPG_MISC     		< T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "KeyPressRemote","action": "REWIND","title": "Key Press REWIND","label": "","currentscreen": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
594132:^[2016:07:18 15:00:44]!MIL    -aem          		< T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401 
594140:^[2016:07:18 15:00:44]!ERROR  -EPG_DEV1     		< T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
594141:^[2016:07:18 15:00:44]!MIL    -EPG_MISC     		< T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
594207:^[2016:07:18 15:02:01]!MIL    -EPG_MISC     		< T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "KeyPressRemote","action": "TVGUIDE","title": "Key Press TVGUIDE","label": "","currentscreen": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
594759:^[2016:07:18 15:02:47]!ERROR  -EPG_DEV1     		< T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
594760:^[2016:07:18 15:02:47]!MIL    -EPG_MISC     		< T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
594817:^[2016:07:18 15:02:50]!ERROR  -EPG_DEV1     		< T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
594818:^[2016:07:18 15:02:50]!MIL    -EPG_MISC     		< T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
595565:^[2016:07:18 15:11:36]!MIL    -aem          		< T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401 
595573:^[2016:07:18 15:11:37]!ERROR  -EPG_DEV1     		< T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
595574:^[2016:07:18 15:11:37]!MIL    -EPG_MISC     		< T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
595935:^[2016:07:18 15:11:53]!MIL    -aem          		< T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401 
595942:^[2016:07:18 15:11:53]!ERROR  -EPG_DEV1     		< T:no name M:NotificationConverter F:setLastScreenSeen L:11 > T:CEE-J EventQueue Reader 0:setting last screen seen to /tv/live/410/live_pause_not_available_insufficient_disk_space_id
595946:^[2016:07:18 15:11:53]!MIL    -EPG_MISC     		< T:no name M:MilestoneNotifier F:send L:21 > T:CEE-J EventQueue Reader 0:{"category": "ScreenChange","changed to": "/tv/live/410/live_pause_not_available_insufficient_disk_space_id"}
599767:^[2016:07:18 15:38:19]!MIL    -aem          		< T:AEM_INPUT_MONITOR_THREAD M:aem_gfxevent.c F:AEM_GFXEvent L:245 > KEY_PRESS: code=0x(PAUSE)e401 



"687866077"
"553648349"	"1"	
"5"   // PCAT_CAT_RECORD_STATUS_ENDED     (5),  // The program is ended
"7"   // PCAT_CAT_RECORD_STATE_PAST_EGT   (7),  // The recording is in past end guard time state
"6"	"0"	"1"	"NULL"	"0"	"1469007900"	"0"	"1469001420"	"0"	"0"	"NULL"	"0"	"0"	"0"	"1"	"0"	"0"	"0"	"0"	"0"	"0"	"0"	"1"	"0"	"NULL"	"NULL"	"0"	"L09)*2 "	"0"	"NULL"	"0"	"0"	"0"	"0"	"0"	"0"	"NULL"	"NULL"	"NULL"	"0"	"NULL"	"0"	"NULL"	"0"	"0"	"0"	"NULL"	"NULL"

"553648349"
"2"   // PCAT_CAT_BOOKING_TYPE_RECORD     (2),  // The booking type is Record
"2"	
"570425563"	"1"	"1"	"120000"	"120000"	"0"	"0"	"620757215"	"0"	"2"	"0"	"0"	
"3"   // BOOKING_EXCEPTION
"2"   // PCAT_CAT_CONTENT_STATUS_PARTIAL,
"0"	"050005ffa4197573657200"	"0"	"0"	"0"	"0"	"0"	"NULL"	"1"	"0"	"0"	"0"	"0"	"NULL"	"0"	"1"	"NULL"	"1"	"0"	"NULL"	"NULL"	"NULL"	"NULL"	"NULL"	"NULL"	"0"	"0"	"0"


==============================================================================
Copyright: see |ktkb|                              vim:tw=100:ts=3:ft=help:norl:
